{"version":3,"sources":["webpack:///./components/views/character lazy ^\\.\\/dnd\\-character\\-builder\\-.*$ namespace object","webpack:///./components/dnd-tabs.js","webpack:///./components/views/dnd-character-builder-view.js"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","all","slice","keys","Object","module","exports","tabs","type","Array","observer","initialSelectedIndex","Number","value","this","length","setTimeout","tabBar","$","addEventListener","handleTabChange","detail","index","activateTab","dispatchEvent","CustomEvent","bubbles","composed","customElements","define","characterName","String","initialSelectedTab","tabIndex","super","label","icon","viewId","connectedCallback","views","tabChangeHandler","newTabIndex","newViewId","undefined","updateView","document","createElement","setStateFromCharacter","characterChangeHandler","character","nameFieldFocusHandler","name","inputElement","select","isLoaded","tabTarget","shadowRoot","querySelector","querySelectorAll","click","disconnectedCallback","removeEventListener","el","appendChild","classLevel","background","race"],"mappings":"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","file":"12.bundle.js","sourcesContent":["var map = {\n\t\"./dnd-character-builder-attributes\": [\n\t\t115,\n\t\t4\n\t],\n\t\"./dnd-character-builder-attributes.js\": [\n\t\t115,\n\t\t4\n\t],\n\t\"./dnd-character-builder-background-race\": [\n\t\t112,\n\t\t7\n\t],\n\t\"./dnd-character-builder-background-race.js\": [\n\t\t112,\n\t\t7\n\t],\n\t\"./dnd-character-builder-class\": [\n\t\t116,\n\t\t9,\n\t\t3\n\t],\n\t\"./dnd-character-builder-class.js\": [\n\t\t116,\n\t\t9,\n\t\t3\n\t],\n\t\"./dnd-character-builder-equipment\": [\n\t\t113,\n\t\t5\n\t],\n\t\"./dnd-character-builder-equipment.js\": [\n\t\t113,\n\t\t5\n\t],\n\t\"./dnd-character-builder-spells\": [\n\t\t114,\n\t\t8\n\t],\n\t\"./dnd-character-builder-spells.js\": [\n\t\t114,\n\t\t8\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 132;\nmodule.exports = webpackAsyncContext;","import {PolymerElement, html} from '@polymer/polymer';\nimport {MDCTabBar} from '@material/tab-bar';\nimport {} from '@polymer/polymer/lib/elements/dom-repeat.js';\nimport {} from '@polymer/polymer/lib/elements/dom-if.js';\n\nclass DndTabs extends PolymerElement {\n  static get properties() {\n    return {\n      tabs: {\n        type: Array,\n        observer: 'tabsChanged'\n      },\n      initialSelectedIndex: {\n        type: Number,\n        value: 0\n      }\n    }\n  }\n\n  tabsChanged() {\n    if (this.tabs.length) {\n      // Allow tabs to be rendered\n      setTimeout(() => {\n        this.tabBar = new MDCTabBar(this.$.tabs);\n        this.$.tabs.addEventListener(\"MDCTabBar:activated\", (e) => {\n          this.handleTabChange(e.detail.index);\n        });\n        this.tabBar.activateTab(this.initialSelectedIndex);\n      }, 0);\n    }\n  }\n\n  handleTabChange(index) {\n    this.dispatchEvent(new CustomEvent(\"tabChange\",  {\n      bubbles: true,\n      composed: true,\n      detail: {\n        index\n      }\n    }));\n  }\n  \n  static get template() {\n    return html`\n      <style include=\"material-styles\">\n        .mdc-tab-scroller__scroll-area--scroll {\n          overflow-x: auto;\n          background-color: var(--mdc-theme-surface);\n          border: 1px solid var(--mdc-theme-text-divider-on-background);\n          border-bottom: none;\n        }\n      </style>\n\n      <div class=\"mdc-tab-bar\" role=\"tablist\" id=\"tabs\">\n        <div class=\"mdc-tab-scroller\">\n          <div class=\"mdc-tab-scroller__scroll-area\">\n            <div class=\"mdc-tab-scroller__scroll-content\">\n              \n              <template is=\"dom-repeat\" items=\"[[tabs]]\">\n                \n                <button class=\"mdc-tab\" role=\"tab\" aria-selected=\"false\" tabindex=\"[[index]]\">\n                  <span class=\"mdc-tab__content\">\n                      <span class=\"mdc-tab__icon material-icons\" aria-hidden=\"true\">[[item.icon]]</span>\n                    <span class=\"mdc-tab__text-label\">[[item.label]]</span>\n                  </span>\n                  <span class=\"mdc-tab-indicator\">\n                    <span class=\"mdc-tab-indicator__content mdc-tab-indicator__content--underline\"></span>\n                  </span>\n                  <span class=\"mdc-tab__ripple\"></span>\n                </button>\n\n              </template>\n\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n  \n}\ncustomElements.define('dnd-tabs', DndTabs);","import {PolymerElement, html} from '@polymer/polymer';\nimport \"../styles/material-styles.js\";\nimport \"../styles/my-styles.js\";\nimport \"../dnd-tabs.js\";\nimport \"../dnd-character-select\";\nimport { jqEmpty } from \"../../js/utils.js\";\nimport { getCharacterChannel, getSelectedCharacter, updateName, getClassString, getFeatureString, addCharacter, removeSelectedCharacter } from '../../util/charBuilder.js';\nimport registerSwipe from '../../util/swipe.js';\n\nclass DndCharacterBuilderView extends PolymerElement {\n  static get properties() {\n    return {\n      characterName: {\n        type: String,\n        value: ''\n      },\n      initialSelectedTab: {\n        type: Number,\n        value: 0\n      },\n      tabIndex: {\n        type: Number,\n        value: 0\n      }\n    }\n  }\n\n  static get observers() {\n    return ['_setName(characterName)']\n  }\n\n  _setName(characterName) {\n    if (characterName) {\n      updateName(characterName);\n    }\n  }\n\n  constructor() {\n    super();\n\n    this.tabs = [\n      { label: \"Class Levels\", icon: \"class\", viewId: \"class\" },\n      { label: \"Background & Race\", icon: \"face\", viewId: \"background-race\" },\n      { label: \"Attributes & Proficiencies\", icon: \"favorite\", viewId: \"attributes\" },\n      { label: \"Spells\", icon: \"flash_on\", viewId: \"spells\" },\n      { label: \"Equipment\", icon: \"local_grocery_store\", viewId: \"equipment\" },\n    ]\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this.views = {};\n\n    this.tabChangeHandler = (e) => {\n      let newTabIndex = e.detail.index,\n        newViewId = this.tabs[newTabIndex].viewId;\n\n      this.tabIndex = newTabIndex;\n      if (newViewId !== undefined) {\n       \n        if (this.views[newViewId]) {\n          this.updateView(this.views[newViewId]);\n        } else {\n          import(`./character/dnd-character-builder-${newViewId}`)\n            .then(() => {\n              this.views[newViewId] = document.createElement(`dnd-character-builder-${newViewId}`);\n              this.updateView(this.views[newViewId]);\n            });\n        } \n      }\n    }\n    this.addEventListener(\"tabChange\", this.tabChangeHandler);\n\n    this.setStateFromCharacter(getSelectedCharacter());\n    this.characterChangeHandler = (e) => {\n      this.setStateFromCharacter(e.detail.character);\n    };\n    getCharacterChannel().addEventListener(\"character-selected\", this.characterChangeHandler);\n\n    this.nameFieldFocusHandler = (e) => {\n      if (this.$.name.value === \"New Character\") {\n        this.$.name.inputElement.select();\n      }\n    }\n    this.$.name.addEventListener(\"focus\", this.nameFieldFocusHandler)\n\n    if (!this.isLoaded) {\n      this.isLoaded = true;\n      registerSwipe(this.$.tabTarget, \"right\", () => {\n        if (this.tabIndex > 0) {\n          const index = this.tabIndex - 1;\n          this.tabIndex = index;\n          this.shadowRoot.querySelector('dnd-tabs').shadowRoot.querySelectorAll('.mdc-tab')[index].click();\n        }\n      });\n      registerSwipe(this.$.tabTarget, \"left\", () => {\n        if (this.tabIndex < this.tabs.length - 1) {\n          const index = this.tabIndex + 1;\n          this.tabIndex = index;\n          this.shadowRoot.querySelector('dnd-tabs').shadowRoot.querySelectorAll('.mdc-tab')[index].click();\n        }\n      });\n    }\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n    this.removeEventListener(\"tabChange\", this.tabChangeHandler);\n    getCharacterChannel().removeEventListener(\"character-selected\", this.characterChangeHandler);\n    this.$.name.removeEventListener(\"focus\", this.nameFieldFocusHandler)\n  }\n\n  updateView(el) {\n    jqEmpty(this.$.tabTarget);\n    this.$.tabTarget.appendChild(el);\n  }\n\n  setStateFromCharacter(character) {\n    this.characterName = character.name;\n    this.classLevel = getClassString(character);\n    this.background = getFeatureString(\"backgrounds\", character, true);\n    this.race = getFeatureString(\"races\", character, true);\n  }\n\n  newCharacter() {\n    addCharacter();\n  }\n\n  removeCharacter() {\n    removeSelectedCharacter();\n  }\n  \n  static get template() {\n    return html`\n      <style include=\"material-styles\"></style>\n      <style>\n        .head-wrap {\n          display: flex;\n          flex-direction: column;\n          margin-bottom: 40px;\n        }\n\n        .char-change {\n          display: flex;\n        }\n        .char-change vaadin-text-field {\n          font-size: 24px;\n          margin: 0 8px 12px 0;\n          max-width: calc(100% - 140px);\n        }\n        .char-change .mdc-icon-button {\n          margin-left: 8px;\n        }\n        .char-detail {\n          font-size: 20px;\n          line-height: 1.5;\n          margin-left: 8px;\n        }\n        #tabTarget {\n          background-color: var(--mdc-theme-surface);\n          border: 1px solid var(--mdc-theme-text-divider-on-background);\n        }\n      </style>\n\n      <div class=\"head-wrap\">\n        <div class=\"char-change\">\n          <vaadin-text-field id=\"name\" class=\"name\" value=\"{{characterName}}\"></vaadin-text-field>\n          <dnd-character-select mini></dnd-character-select>\n          <button class=\"mdc-icon-button material-icons\" on-click=\"newCharacter\">person_add</button>\n          <button class=\"mdc-icon-button material-icons\" on-click=\"removeCharacter\">delete</button>\n        </div>\n\n        <div class=\"char-detail\">\n          <div class=\"class\">[[classLevel]]</div>\n          <div class=\"race-background\">[[race]] - [[background]]</div>\n        </div>\n      </div>\n\n      <dnd-tabs tabs=\"[[tabs]]\" initial-selected-index=\"[[initialSelectedTab]]\"></dnd-tabs>\n\n      <div id=\"tabTarget\"></div>\n    `;\n  }\n}\ncustomElements.define('dnd-character-builder-view', DndCharacterBuilderView);"],"sourceRoot":""}