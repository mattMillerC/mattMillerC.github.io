{"version":3,"sources":["webpack:///./components/views/character lazy ^\\.\\/dnd\\-character\\-builder\\-.*$ namespace object","webpack:///./components/dnd-tabs.js","webpack:///./components/views/dnd-character-builder-view.js"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","all","slice","keys","Object","module","exports","tabs","type","Array","observer","initialSelectedIndex","Number","value","this","length","setTimeout","tabBar","$","addEventListener","handleTabChange","detail","index","activateTab","dispatchEvent","CustomEvent","bubbles","composed","customElements","define","loading","Boolean","characterName","String","initialSelectedTab","indexForTabs","super","label","icon","viewId","connectedCallback","tabChangeHandler","newTabIndex","newViewId","undefined","updateView","document","createElement","loadingHandler","setStateFromCharacter","characterChangeHandler","character","nameFieldFocusHandler","name","inputElement","select","isLoaded","tabTarget","newIndex","disconnectedCallback","removeEventListener","el","appendChild","classLevel","background","race","console","error"],"mappings":"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","file":"12.bundle.js","sourcesContent":["var map = {\n\t\"./dnd-character-builder-attributes\": [\n\t\t118,\n\t\t7\n\t],\n\t\"./dnd-character-builder-attributes.js\": [\n\t\t118,\n\t\t7\n\t],\n\t\"./dnd-character-builder-background-race\": [\n\t\t115,\n\t\t9\n\t],\n\t\"./dnd-character-builder-background-race.js\": [\n\t\t115,\n\t\t9\n\t],\n\t\"./dnd-character-builder-class\": [\n\t\t120,\n\t\t3,\n\t\t4,\n\t\t5\n\t],\n\t\"./dnd-character-builder-class.js\": [\n\t\t120,\n\t\t3,\n\t\t4,\n\t\t5\n\t],\n\t\"./dnd-character-builder-equipment\": [\n\t\t116,\n\t\t8\n\t],\n\t\"./dnd-character-builder-equipment.js\": [\n\t\t116,\n\t\t8\n\t],\n\t\"./dnd-character-builder-spells\": [\n\t\t119,\n\t\t3,\n\t\t6\n\t],\n\t\"./dnd-character-builder-spells.js\": [\n\t\t119,\n\t\t3,\n\t\t6\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 135;\nmodule.exports = webpackAsyncContext;","import {PolymerElement, html} from '@polymer/polymer';\nimport {MDCTabBar} from '@material/tab-bar';\nimport {} from '@polymer/polymer/lib/elements/dom-repeat.js';\nimport {} from '@polymer/polymer/lib/elements/dom-if.js';\n\nclass DndTabs extends PolymerElement {\n  static get properties() {\n    return {\n      tabs: {\n        type: Array,\n        observer: 'tabsChanged'\n      },\n      initialSelectedIndex: {\n        type: Number,\n        value: 0\n      }\n    }\n  }\n\n  tabsChanged() {\n    if (this.tabs.length) {\n      // Allow tabs to be rendered\n      setTimeout(() => {\n        this.tabBar = new MDCTabBar(this.$.tabs);\n        this.$.tabs.addEventListener(\"MDCTabBar:activated\", (e) => {\n          this.handleTabChange(e.detail.index);\n        });\n        this.tabBar.activateTab(this.initialSelectedIndex);\n      }, 0);\n    }\n  }\n\n  handleTabChange(index) {\n    this.dispatchEvent(new CustomEvent(\"tabChange\",  {\n      bubbles: true,\n      composed: true,\n      detail: {\n        index\n      }\n    }));\n  }\n  \n  static get template() {\n    return html`\n      <style include=\"material-styles\">\n        .mdc-tab-scroller__scroll-area--scroll {\n          overflow-x: auto;\n          background-color: var(--mdc-theme-surface);\n          border: 1px solid var(--mdc-theme-text-divider-on-background);\n          border-bottom: none;\n        }\n      </style>\n\n      <div class=\"mdc-tab-bar\" role=\"tablist\" id=\"tabs\">\n        <div class=\"mdc-tab-scroller\">\n          <div class=\"mdc-tab-scroller__scroll-area\">\n            <div class=\"mdc-tab-scroller__scroll-content\">\n              \n              <template is=\"dom-repeat\" items=\"[[tabs]]\">\n                \n                <button class=\"mdc-tab\" role=\"tab\" aria-selected=\"false\" tabindex=\"[[index]]\">\n                  <span class=\"mdc-tab__content\">\n                      <span class=\"mdc-tab__icon material-icons\" aria-hidden=\"true\">[[item.icon]]</span>\n                    <span class=\"mdc-tab__text-label\">[[item.label]]</span>\n                  </span>\n                  <span class=\"mdc-tab-indicator\">\n                    <span class=\"mdc-tab-indicator__content mdc-tab-indicator__content--underline\"></span>\n                  </span>\n                  <span class=\"mdc-tab__ripple\"></span>\n                </button>\n\n              </template>\n\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n  \n}\ncustomElements.define('dnd-tabs', DndTabs);","import {PolymerElement, html} from '@polymer/polymer';\nimport \"../styles/material-styles.js\";\nimport \"../styles/my-styles.js\";\nimport \"../dnd-tabs.js\";\nimport \"../dnd-character-select\";\nimport \"../dnd-spinner\";\nimport { jqEmpty } from \"../../js/utils.js\";\nimport { getCharacterChannel, getSelectedCharacter, updateName, getClassString, getFeatureString, addCharacter, removeSelectedCharacter } from '../../util/charBuilder.js';\nimport registerSwipe from '../../util/swipe.js';\n\nclass DndCharacterBuilderView extends PolymerElement {\n  static get properties() {\n    return {\n      loading: {\n        type: Boolean,\n        value: true\n      },\n      characterName: {\n        type: String,\n        value: ''\n      },\n      initialSelectedTab: {\n        type: Number,\n        value: 0\n      },\n      indexForTabs: {\n        type: Number,\n        value: 0\n      }\n    }\n  }\n\n  static get observers() {\n    return ['_setName(characterName)']\n  }\n\n  _setName(characterName) {\n    if (characterName) {\n      updateName(characterName);\n    }\n  }\n\n  constructor() {\n    super();\n\n    this.tabs = [\n      { label: \"Class Levels\", icon: \"class\", viewId: \"class\" },\n      { label: \"Background & Race\", icon: \"face\", viewId: \"background-race\" },\n      { label: \"Attributes & Proficiencies\", icon: \"favorite\", viewId: \"attributes\" },\n      { label: \"Spells\", icon: \"flash_on\", viewId: \"spells\" },\n      { label: \"Equipment\", icon: \"local_grocery_store\", viewId: \"equipment\" },\n    ]\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this.tabChangeHandler = (e) => {\n      let newTabIndex = e.detail.index,\n        newViewId = this.tabs[newTabIndex].viewId;\n\n      this.indexForTabs = newTabIndex;\n      if (newViewId !== undefined) {\n        this.loading = true;\n        import(`./character/dnd-character-builder-${newViewId}`)\n          .then(() => {\n            this.updateView(document.createElement(`dnd-character-builder-${newViewId}`));\n          });\n      }\n    };\n    this.addEventListener(\"tabChange\", this.tabChangeHandler);\n\n    this.loadingHandler = () => {\n      setTimeout(() => {\n        this.loading = false;\n      }, 0);\n    };\n    this.addEventListener(\"loadingChange\", this.loadingHandler);\n\n    this.setStateFromCharacter(getSelectedCharacter());\n    this.characterChangeHandler = (e) => {\n      this.setStateFromCharacter(e.detail.character);\n    };\n    getCharacterChannel().addEventListener(\"character-selected\", this.characterChangeHandler);\n\n    this.nameFieldFocusHandler = (e) => {\n      if (this.$.name.value === \"New Character\") {\n        this.$.name.inputElement.select();\n      }\n    }\n    this.$.name.addEventListener(\"focus\", this.nameFieldFocusHandler)\n\n    if (!this.isLoaded) {\n      this.isLoaded = true;\n      registerSwipe(this.$.tabTarget, \"right\", () => {\n        if (this.indexForTabs > 0) {\n          const newIndex = this.indexForTabs - 1;\n          this.$.tabs.tabBar.activateTab(newIndex);\n        }\n      });\n      registerSwipe(this.$.tabTarget, \"left\", () => {\n        if (this.indexForTabs < this.tabs.length - 1) {\n          const newIndex = this.indexForTabs + 1;\n          this.$.tabs.tabBar.activateTab(newIndex);\n        }\n      });\n    }\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n    this.removeEventListener(\"tabChange\", this.tabChangeHandler);\n    this.removeEventListener(\"loadingChange\", this.loadingHandler);\n    getCharacterChannel().removeEventListener(\"character-selected\", this.characterChangeHandler);\n    this.$.name.removeEventListener(\"focus\", this.nameFieldFocusHandler)\n  }\n\n  updateView(el) {\n    jqEmpty(this.$.tabTarget);\n    this.$.tabTarget.appendChild(el);\n  }\n\n  setStateFromCharacter(character) {\n    this.characterName = character.name;\n    this.classLevel = getClassString(character);\n    this.background = getFeatureString(\"backgrounds\", character, true);\n    this.race = getFeatureString(\"races\", character, true);\n  }\n\n  newCharacter() {\n    addCharacter();\n  }\n\n  removeCharacter() {\n    removeSelectedCharacter();\n  }\n  \n  static get template() {\n    return html`\n      <style include=\"material-styles\"></style>\n      <style>\n        .head-wrap {\n          display: flex;\n          flex-direction: column;\n          margin-bottom: 16px;\n        }\n\n        .char-change {\n          display: flex;\n        }\n        .char-change vaadin-text-field {\n          font-size: 24px;\n          margin: 0 8px 12px 0;\n          max-width: calc(100% - 140px);\n        }\n        .char-change .mdc-icon-button {\n          margin-left: 8px;\n        }\n        .char-detail {\n          font-size: 20px;\n          line-height: 1.5;\n          margin-left: 8px;\n        }\n        #tabTarget {\n          background-color: var(--mdc-theme-surface);\n          border: 1px solid var(--mdc-theme-text-divider-on-background);\n        }\n      </style>\n\n      <div class=\"head-wrap\">\n        <div class=\"char-change\">\n          <vaadin-text-field id=\"name\" class=\"name\" value=\"{{characterName}}\"></vaadin-text-field>\n          <dnd-character-select mini></dnd-character-select>\n          <button class=\"mdc-icon-button material-icons\" on-click=\"newCharacter\">person_add</button>\n          <button class=\"mdc-icon-button material-icons\" on-click=\"removeCharacter\">delete</button>\n        </div>\n\n        <div class=\"char-detail\">\n          <div class=\"class\">[[classLevel]]</div>\n          <div class=\"race-background\">[[race]] - [[background]]</div>\n        </div>\n      </div>\n\n      <div class=\"character-builder--tabs-wrapper\">\n        <dnd-tabs id=\"tabs\" tabs=\"[[tabs]]\" initial-selected-index=\"[[initialSelectedTab]]\"></dnd-tabs>\n\n        <div id=\"tabTarget\" hidden$=\"[[loading]]\"></div>\n        <dnd-spinner loading$=\"[[loading]]\"></dnd-spinner>\n      </div>\n    `;\n  }\n}\ncustomElements.define('dnd-character-builder-view', DndCharacterBuilderView);\nconsole.error('defined character-builder-view');\n"],"sourceRoot":""}