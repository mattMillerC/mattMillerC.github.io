(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{55:function(e,t,s){"use strict";var r=s(3),n=s(0),a=s(8);function i(){this.wrapperTag="div",this.baseUrl="",this.setWrapperTag=function(e){this.wrapperTag=e},this.setBaseUrl=function(e){this.baseUrl=e},this.recursiveEntryRender=function(e,t,s,l,o,c){if(s=null==s?"section"===e.type?-1:0:s,l=null==l?null:l,o=null==o?null:o,(c=null!=c&&c)&&u(),"object"==typeof e){switch(void 0===e.type||"section"===e.type?"entries":e.type){case"entries":h(this,!0);break;case"options":!function(t){e.entries&&(e.entries=e.entries.sort((e,t)=>e.name&&t.name?Object(r.ascSort)(e.name,t.name):e.name?-1:t.name?1:0),h(t,!1))}(this);break;case"list":if(e.items){t.push(`<ul ${e.style?`class="${e.style}"`:""}>`);for(let a=0;a<e.items.length;a++)this.recursiveEntryRender(e.items[a],t,s+1,`<li ${Object(r.isNonstandardSource)(e.items[a].source)?`class="${n.i}"`:""}>`,"</li>");t.push("</ul>")}break;case"table":!function(r){t.push("<table class='table'>"),void 0!==e.caption&&t.push(`<caption>${e.caption}</caption>`);if(t.push("<thead>"),t.push("<tr class='table-row table-row--header'>"),e.colLabels)for(let s=0;s<e.colLabels.length;++s)t.push(`<th ${n(s)}>${e.colLabels[s]}</th>`);t.push("</tr>"),t.push("</thead>"),t.push("<tbody>");for(let n=0;n<e.rows.length;++n){t.push("<tr class='table-row'>");for(let i=0;i<e.rows[n].length;++i)t.push(`<td ${a(i)}>`),r.recursiveEntryRender(e.rows[n][i],t,s+1),t.push("</td>");t.push("</tr>")}function n(t){return void 0===e.colStyles||t>=e.colStyles.length?"class='table-cell'":`class="table-cell ${e.colStyles[t]}"`}function a(t){return void 0!==e.rowStyles?void 0===e.rowStyles||t>=e.rowStyles.length?"class='table-cell'":`class="table-cell ${e.rowStyles[t]}"`:n(t)}t.push("</tbody>"),t.push("</table>")}(this);break;case"invocation":!function(e){h(e,!0)}(this);break;case"patron":!function(e){h(e,!1)}(this);break;case"abilityDc":u(),t.push(`<span class='spell-ability'><span>${e.name} save DC</span> = 8 + your proficiency bonus + your ${Object(r.utils_makeAttChoose)(e.attributes)}</span>`),d();break;case"abilityAttackMod":null!==l&&t.push(l),t.push(`<span class='spell-ability'><span>${e.name} attack modifier</span> = your proficiency bonus + your ${Object(r.utils_makeAttChoose)(e.attributes)}</span>`),null!==o&&t.push(o);break;case"inline":if(e.entries)for(let r=0;r<e.entries.length;r++)this.recursiveEntryRender(e.entries[r],t,s);break;case"bonus":t.push((e.value<0?"":"+")+e.value);break;case"bonusSpeed":t.push((e.value<0?"":"+")+e.value+"ft.");break;case"dice":t.push(i.getEntryDice(e));break;case"link":!function(e,s){let n;if("internal"===s.href.type){if(n=`${e.baseUrl}${s.href.path}#`,void 0!==s.href.hash&&(n+=s.href.hash,void 0!==s.href.subhashes))for(let e=0;e<s.href.subhashes.length;e++){const t=s.href.subhashes[e];n+=`,${Object(r.encodeForHash)(t.key)}:${Object(r.encodeForHash)(t.value)}`}}else"external"===s.href.type&&(n=s.href.url);t.push(`<a href='${n}'>${s.text}</a>`)}(this,e);break;case"item":t.push(`<li><b>${e.name}: </b>`),this.recursiveEntryRender(e.entry,t,s),t.push("</li>")}}else"string"==typeof e?(u(),function(l){const o=function(){let t,s,r=0,n=!1;const a=[];let i="";for(let l=0;l<e.length;++l)switch(t=e.charAt(l),s=l<e.length-1?e.charAt(l+1):null,t){case"{":"@"===s?r++>0?i+=t:(a.push(i),n=!1,i=""):i+=t;break;case"}":0==--r?(a.push(i),i=""):i+=t;break;default:i+=t}i.length>0&&a.push(i);return a}();for(let e=0;e<o.length;e++){const u=o[e];if(null!=u&&""!==u)if("@"===u.charAt(0)){const[e,o]=[(c=u).substr(0,c.indexOf(" ")),c.substr(c.indexOf(" ")+1)];if("@bold"===e||"@b"===e||"@italic"===e||"@i"===e||"@skill"===e||"@action"===e)switch(e){case"@b":case"@bold":t.push("<b>"),l.recursiveEntryRender(o,t,s),t.push("</b>");break;case"@i":case"@italic":t.push("<i>"),l.recursiveEntryRender(o,t,s),t.push("</i>");break;case"@action":t.push(`<span title="${a.a.actionToExplanation(o)}" class="explanation">${o}</span>`);break;case"@skill":t.push(`<span title="${a.a.skillToExplanation(o)}" class="explanation">${o}</span>`)}else{const[a,c,u,...d]=o.split("|"),h=`${a}${c?`${n.n}${c}`:""}`,f={type:"link",href:{type:"internal",path:"",hash:Object(r.encodeForHash)(h)},text:u||a};switch(e){case"@spell":c||(f.href.hash+=n.n+n.hb),f.href.hash="/spells/"+f.href.hash,l.recursiveEntryRender(f,t,s);break;case"@item":c||(f.href.hash+=n.n+n.T),f.href.hash="/items/"+f.href.hash,l.recursiveEntryRender(f,t,s);break;case"@condition":c||(f.href.hash+=n.n+n.hb),f.href.hash="/conditions/"+f.href.hash,l.recursiveEntryRender(f,t,s);break;case"@class":const e=i.RE_INLINE_CLASS.exec(o);e&&(f.href.hash=e[1].trim(),f.href.subhashes=[{key:"sub",value:e[2].trim()+"~phb"}]),c||(f.href.hash+=n.n+n.hb),f.href.hash="/classes/"+f.href.hash,l.recursiveEntryRender(f,t,s);break;case"@creature":c||(f.href.hash+=n.n+n.cb),f.href.hash="/bestiary/"+f.href.hash,l.recursiveEntryRender(f,t,s);break;case"@filter":t.push(a);break;case"@damage":case"@dice":case"@book":t.push(a);break;case"@5etools":c.indexOf(".")>-1?f.href.hash="/"+c.substring(0,c.indexOf(".")):f.href.hash="/"+c,l.recursiveEntryRender(f,t,s)}}}else t.push(u)}var c}(this),d()):(u(),t.push(e),d());function u(){null!==l&&t.push(l)}function d(){null!==o&&t.push(o)}function h(l,o){const c=s>=2,u=o?s+1:s,d=function(){const t=[];Object(r.isNonstandardSource)(e.source)&&t.push(n.i);c&&void 0!==e.name?t.push(i.HEAD_2):t.push(-1===s?i.HEAD_NEG_1:0===s?i.HEAD_0:i.HEAD_1);"invocation"!==e.type&&"patron"!==e.type||void 0===e.subclass||t.push(n.j);return t.length>0?`class="${t.join(" ")}"`:""}(),h=function(){let t="";if("invocation"===e.type||"patron"===e.type){const s=e.source?`title="Source: ${a.a.sourceJsonToFull(e.source)}"`:"";t=void 0!==e.subclass?`${n.f}="${e.subclass.name}" ${n.g}="${e.subclass.source}" ${s}`:`${n.f}="${i.DATA_NONE}" ${n.g}="${i.DATA_NONE}" ${s}`}return t}(),f=e.prerequisite?`<span class="prerequisite">Prerequisite: ${e.prerequisite}</span>`:"",p=void 0!==e.name?`<span class="stat-name">${e.name}${Object(r.isNonstandardSource)(e.source)?" (UA)":""}${c?".":""}</span> `:"";if(e.entries||e.name){if(t.push(`<${l.wrapperTag} ${h} ${d}>${p}${f}`),e.entries)for(let s=0;s<e.entries.length;s++)l.recursiveEntryRender(e.entries[s],t,u,"<p>","</p>");t.push(`</${l.wrapperTag}>`)}}c&&d()}}i.getEntryDice=function(e){let t;if(e.number&&e.faces)t=String(e.number)+"d"+e.faces;else if(e.toRoll&&e.toRoll.length){for(let s of e.toRoll)t=String(s.number)+"d"+s.faces+" + ";t=t.substring(0,t.length-3)}return"undefined"!=typeof droll&&!0===e.rollable?`<span class='roller unselectable' onclick="if (this.rolled) { this.innerHTML = this.innerHTML.split('=')[0].trim()+' = '+droll.roll('${t}').total; } else { this.rolled = true; this.innerHTML += ' = '+droll.roll('${t}').total; }">${t}</span>`:t},i.RE_INLINE_CLASS=/(.*?) \((.*?)\)/,i.HEAD_NEG_1="statsBlockSectionHead",i.HEAD_0="statsBlockHead",i.HEAD_1="statsBlockSubHead",i.HEAD_2="statsInlineHead",i.DATA_NONE="data-none",t.a=i},57:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var r=s(3),n=s(8);let a={};async function i(e){if(e){if(!a.hasOwnProperty(e))switch(e){case"items":a[e]=await function(){const e=[];return e.push(l("/data/items.json")),e.push(l("/data/basicitems.json")),e.push(l("/data/magicvariants.json")),Promise.all(e).then(e=>function(e,t,s){const r={},a={};let i=e,l=t.basicitems;const o=t.itemProperty,c=t.itemType;for(let e=0;e<o.length;e++)r[o[e].abbreviation]=o[e].name?JSON.parse(JSON.stringify(o[e])):{name:o[e].entries[0].name.toLowerCase(),entries:o[e].entries};for(let e=0;e<c.length;e++)a[c[e].abbreviation]=c[e].name?JSON.parse(JSON.stringify(c[e])):{name:c[e].entries[0].name.toLowerCase(),entries:c[e].entries};let u=s;i=i.concat(l);for(let e=0;e<u.length;e++)u[e].tier=u[e].inherits.tier,u[e].rarity=u[e].inherits.rarity,u[e].source=u[e].inherits.source,u[e].page=u[e].inherits.page,!u[e].entries&&u[e].inherits.entries&&(u[e].entries=JSON.parse(JSON.stringify(u[e].inherits.entries))),u[e].requires.armor&&(u[e].armor=u[e].requires.armor);i=i.concat(u);for(let e=0;e<l.length;e++){const t=l[e];l[e].category="Basic",void 0===t.entries&&(t.entries=[]);const s=t.name.toLowerCase();for(let e=0;e<u.length;e++){const r=u[e],a=r.requires;let l=-1===s.indexOf(" (");for(const e in a)a.hasOwnProperty(e)&&t[e]!==a[e]&&(l=!1);if(r.excludes){const e=r.excludes;for(const s in e)e.hasOwnProperty(s)&&t[s]===e[s]&&(l=!1)}if(l){const e=r.inherits,a=JSON.parse(JSON.stringify(t));delete a.value,a.category="Specific Variant";for(const t in e)if(e.hasOwnProperty(t))if("namePrefix"===t)a.name=e.namePrefix+a.name;else if("nameSuffix"===t)a.name+=e.nameSuffix;else if("entries"===t)for(let t=e.entries.length-1;t>-1;t--){let r=e.entries[t];"string"==typeof r&&(a.dmgType&&(r=r.replace("{@dmgType}",n.a.dmgTypeToFull(a.dmgType))),e.genericBonus&&(r=r.replace("{@genericBonus}",e.genericBonus)),-1!==r.indexOf("{@lowerName}")&&(r=r.split("{@lowerName}").join(s))),a.entries.unshift(r)}else a[t]=e[t];i.push(a)}}}let d=(e,t)=>{const s=JSON.parse(JSON.stringify(e));return s.push(t),s};for(let e=0;e<i.length;e++){const t=i[e];if(!t.noDisplay){if("GV"===i[e].type&&(i[e].category="Generic Variant"),void 0===i[e].category&&(i[e].category="Other"),void 0===t.entries&&(i[e].entries=[]),t.type&&a[t.type])for(let s=0;s<a[t.type].entries.length;s++)i[e].entries=d(i[e].entries,a[t.type].entries[s]);if(t.property){const s=t.property.split(",");for(let t=0;t<s.length;t++)if(r[s[t]].entries)for(let n=0;n<r[s[t]].entries.length;n++)i[e].entries=d(i[e].entries,r[s[t]].entries[n])}t.armor?(t.resist&&(i[e].entries=d(i[e].entries,"You have resistance to "+t.resist+" damage while you wear this armor.")),t.armor&&t.stealth&&(i[e].entries=d(i[e].entries,"The wearer has disadvantage on Stealth (Dexterity) checks.")),"HA"===t.type&&t.strength&&(i[e].entries=d(i[e].entries,"If the wearer has a Strength score lower than "+t.strength+", their speed is reduced by 10 feet."))):t.resist&&("P"===t.type&&(i[e].entries=d(i[e].entries,"When you drink this potion, you gain resistance to "+t.resist+" damage for 1 hour.")),"RG"===t.type&&(i[e].entries=d(i[e].entries,"You have resistance to "+t.resist+" damage while wearing this ring."))),"SCF"===t.type&&("arcane"===t.scfType&&(i[e].entries=d(i[e].entries,"An arcane focus is a special item designed to channel the power of arcane spells. A sorcerer, warlock, or wizard can use such an item as a spellcasting focus, using it in place of any material component which does not list a cost.")),"druid"===t.scfType&&(i[e].entries=d(i[e].entries,"A druid can use such a druidic focus as a spellcasting focus, using it in place of any material component that does not have a cost.")),"holy"===t.scfType&&(i[e].entries=d(i[e].entries,"A holy symbol is a representation of a god or pantheon."),i[e].entries=d(i[e].entries,"A cleric or paladin can use a holy symbol as a spellcasting focus, using it in place of any material components which do not list a cost. To use the symbol in this way, the caster must hold it in hand, wear it visibly, or bear it on a shield.")))}}for(let e=0;e<i.length;e++){const t=i[e];if(!t.noDisplay){if("GV"===i[e].type&&(i[e].category="Generic Variant"),void 0===i[e].category&&(i[e].category="Other"),void 0===t.entries&&(i[e].entries=[]),t.type&&a[t.type])for(let s=0;s<a[t.type].entries.length;s++)i[e].entries=d(i[e].entries,a[t.type].entries[s]);if(t.property){const s=t.property.split(",");for(let t=0;t<s.length;t++)if(r[s[t]].entries)for(let n=0;n<r[s[t]].entries.length;n++)i[e].entries=d(i[e].entries,r[s[t]].entries[n])}t.armor?(t.resist&&(i[e].entries=d(i[e].entries,"You have resistance to "+t.resist+" damage while you wear this armor.")),t.armor&&t.stealth&&(i[e].entries=d(i[e].entries,"The wearer has disadvantage on Stealth (Dexterity) checks.")),"HA"===t.type&&t.strength&&(i[e].entries=d(i[e].entries,"If the wearer has a Strength score lower than "+t.strength+", their speed is reduced by 10 feet."))):t.resist&&("P"===t.type&&(i[e].entries=d(i[e].entries,"When you drink this potion, you gain resistance to "+t.resist+" damage for 1 hour.")),"RG"===t.type&&(i[e].entries=d(i[e].entries,"You have resistance to "+t.resist+" damage while wearing this ring."))),"SCF"===t.type&&("arcane"===t.scfType&&(i[e].entries=d(i[e].entries,"An arcane focus is a special item designed to channel the power of arcane spells. A sorcerer, warlock, or wizard can use such an item as a spellcasting focus, using it in place of any material component which does not list a cost.")),"druid"===t.scfType&&(i[e].entries=d(i[e].entries,"A druid can use such a druidic focus as a spellcasting focus, using it in place of any material component that does not have a cost.")),"holy"===t.scfType&&(i[e].entries=d(i[e].entries,"A holy symbol is a representation of a god or pantheon."),i[e].entries=d(i[e].entries,"A cleric or paladin can use a holy symbol as a spellcasting focus, using it in place of any material components which do not list a cost. To use the symbol in this way, the caster must hold it in hand, wear it visibly, or bear it on a shield.")))}}return i}(e[0],e[1],e[2]))}();break;case"bestiary":a[e]=await function(){const e=[];return e.push(l("/data/bestiary.json")),e.push(l("/data/legendarygroups.json")),Promise.all(e).then(e=>function(e,t){const s={};for(let e of t)s[e.name]={lairActions:e.lairActions,regionalEffects:e.regionalEffects};for(let t of e)if(t.legendaryGroup){const e=t.legendaryGroup;if(e){const n=s[e];n.lairActions&&(t.lairaction=Object(r.cloneDeep)(n.lairActions)),n.regionalEffects&&(t.regionaleffect=Object(r.cloneDeep)(n.regionalEffects))}}return e}(e[0],e[1]))}();break;case"spells":case"classes":a[e]=await async function(e){const t=await l(`/data/${e}/index.json`);if(t.index){let s=[];for(let r of Object.values(t.index))s.push(l(`/data/${e}/${r}`));return Promise.all(s).then(e=>{let t=[];for(let s of e)t=t.concat(s);return t})}return console.error("Model index data not found from model JSON"),[]}(e);break;default:a[e]=await async function(e){const t=await l(`/data/${e}.json`);return Array.isArray(t)?t:(console.error("Array data not found from model JSON"),[])}(e)}return a[e]}return console.error("Missing modelID"),[]}function l(e){return fetch(e).then(e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})}},59:function(e,t,s){"use strict";s.d(t,"a",(function(){return c})),s.d(t,"b",(function(){return u}));var r=s(3),n=s(60),a=s(0),i=s(8),l=s(25),o=s(13);function c(e,t,s){const c={};for(let o=0;o<e.length;o++){const u=e[o],d=u.name;let f="";for(let e of s)switch(e.id){case"ability":if(!c[e.id]){let t=Object(r.getAsiFilter)();t.metric="_fAbility",c[e.id]=t}const t=Object(n.c)(u.ability)||a.qc;u._fAbility=Object(n.a)(u.ability),f+=`<td class='table-cell ability ${t===a.qc?"list-entry-none ":""} ${e.cssClass}'>${t}</td>`;break;case"name":f+=`<td class='table-cell table-cell--border name ${e.cssClass}'>${d}</td>`;break;case"source":if(!c[e.id]){let t=Object(r.getSourceFilter)();t.metric="source",c[e.id]=t}c[e.id].addIfAbsent(u.source),f+=`<td class='table-cell source source${u.source} ${e.cssClass}' title='${i.a.sourceJsonToFull(u.source)}'>${i.a.sourceJsonToAbv(u.source)}</td>`;break;case"prerequisite":let s=Object(r.utils_makePrerequisite)(u.prerequisite,!0);s||(s=a.qc),f+=`<td class='table-cell prerequisite ${s===a.qc?"list-entry-none ":""} ${e.cssClass}'>${s}</td>`;break;case"proficiencies":const o=u.skillProficiencies&&u.skillProficiencies.length>0?Object(r.parse_backgroundSkills)(u.skillProficiencies):"--";f+=`<td class="table-cell proficiencies ${e.cssClass}">${o}</td>`;break;case"psy-type":if(!c[e.id]){let t=new l.a({header:"Type",items:["D","T"],displayFn:r.parse_psionicTypeToFull});t.metric="type",c[e.id]=t}f+=`<td class='psy-type table-cell ${e.cssClass}'>${Object(r.parse_psionicTypeToFull)(u.type)}</td>`;break;case"psy-order":if(!c[e.id]){let t=new l.a({header:"Order",items:["Avatar","Awakened","Immortal","Nomad","Wu Jen","None"]});t.metric="order",c[e.id]=t}u.order=Object(r.parse_psionicOrderToFull)(u.order),f+=`<td class='psy-order table-cell  ${e.cssClass} ${u.order===a.qc?"list-entry-none":a.pc}'>${u.order}</td>`;break;case"psy-mode-list":f+=`<td class='psy-mode-list ${e.cssClass}'>${Object(r.getHiddenModeList)(u)}</td>`;break;case"size":if(!c[e.id]){let t=new l.a({header:"Size",displayFn:i.a.sizeAbvToFull});t.metric="size",c[e.id]=t}c[e.id].addIfAbsent(u.size),f+=`<td class='table-cell ${e.cssClass} size'>${i.a.sizeAbvToFull(u.size)}</td>`;break;case"reward-type":if(!c[e.id]){let t=new l.a({header:"Type",items:["Blessing","Boon","Charm","Demonic Boon"]});t.metric="type",c[e.id]=t}f+=`<td class='table-cell type ${e.cssClass}'>${u.type}</td>`;break;case"level":if(!c[e.id]){let t=new l.a({header:"Level",displayFn:r.getFltrSpellLevelStr});t.metric="level",c[e.id]=t}c[e.id].addIfAbsent(u.level),f+=`<td class='table-cell level ${e.cssClass}'>${i.a.spLevelToFull(u.level)}</td>`;break;case"time":if(!c[e.id]){let t=new l.a({header:"Cast Time",items:["action","bonus action","reaction","round","minute","hour"],displayFn:r.getTimeDisplay});t.metric="_fTimeType",c[e.id]=t}u._fTimeType=u.time.map(e=>e.unit),f+=`<td class='table-cell ${e.cssClass} time' title='${i.a.spTimeListToFull(u.time)}'>${Object(r.getTblTimeStr)(u.time[0])}</td>`;break;case"school":if(!c[e.id]){let t=new l.a({header:"School",displayFn:i.a.spSchoolAbvToFull});t.metric="school",c[e.id]=t}c[e.id].addIfAbsent(u.school),f+=`<td class='table-cell ${e.cssClass} school school_${u.school}' title="${i.a.spSchoolAbvToFull(u.school)}">${i.a.spSchoolAbvToFull(u.school)}</td>`;break;case"range":if(!c[e.id]){let t=new l.a({header:"Range",items:["Self","Touch","Point","Area","Special"]});t.metric="_fRangeType",c[e.id]=t}u._fRangeType=Object(r.getRangeType)(u.range),f+=`<td class='table-cell ${e.cssClass} range'>${i.a.spRangeToFull(u.range)}</td>`;break;case"classes":if(!c[e.id]){let t=new l.a({header:"Class"});t.metric="_fClasses",c[e.id]=t}u._fClasses=u.classes.fromClassList?u.classes.fromClassList.map(e=>Object(r.getClassFilterStr)(e)):[],u._fClasses.forEach(t=>c[e.id].addIfAbsent(t)),f+=`<td class='table-cell ${e.cssClass} classes'>${i.a.spClassesToFull(u.classes)}</td>`;break;case"subclasses":if(!c[e.id]){let t=new l.a({header:"Subclass"});t.metric="_fSubclasses",c[e.id]=t}u._fSubclasses=u.classes.fromSubclass?u.classes.fromSubclass.map(e=>Object(r.getClassFilterStr)(e.subclass)):[],u._fSubclasses.forEach(t=>c[e.id].addIfAbsent(t)),f+=`<td class='table-cell subclasses ${e.cssClass}'>${u._fSubclasses.join(", ")}</td>`;break;case"spell-meta":if(!c[e.id]){let t=new l.a({header:"Tag",items:["Concentration","Verbal","Somatic","Material","Ritual","Technomagic"]});t.metric="_fMeta",c[e.id]=t}u._fMeta=Object(r.getMetaFilterObj)(u),f+=`<td class='table-cell spell-meta ${e.cssClass}'>${u._fMeta}</td>`;break;case"rules-search":const p=[];for(const e of u.entries)Object(r.getRuleSearchStackNames)(p,e);f+=`<td class='table-cell rules-search ${e.cssClass}'>${p.join(",")}</td>`;break;case"monster-type":if(!c[e.id]){let t=new l.a({header:"Type",items:["aberration","beast","celestial","construct","dragon","elemental","fey","fiend","giant","humanoid","monstrosity","ooze","plant","undead"],displayFn:r.uppercaseFirst});t.metric="_pTypes.type",c[e.id]=t}u._pTypes=i.a.monTypeToFullObj(u.type),u._pTypes.tags.forEach(t=>c[e.id].addIfAbsent(t)),f+=`<td class='table-cell type ${e.cssClass}'>${u._pTypes.asText.uppercaseFirst()}</td>`;break;case"cr":if(!c[e.id]){let t=new l.a({header:"CR"});t.metric="cr",c[e.id]=t,c.sizeFilter=new l.a({header:"Size",items:[a.uc,a.tc,a.Ac,a.zc,a.yc,a.xc,a.wc,a.vc,a.sc,a.Bc],displayFn:i.a.sizeAbvToFull}),c.sizeFilter.metric="size",c.tagFilter=new l.a({header:"Tag",displayFn:r.uppercaseFirst}),c.tagFilter.metric="_pTypes.tags",c.miscFilter=new l.a({header:"Miscellaneous",items:["Legendary"],displayFn:r.uppercaseFirst}),c.miscFilter.metric="_fMisc"}u._fMisc=u.legendary||u.legendaryGroup?["Legendary"]:[],u.cr=void 0===u.cr?"Unknown":u.cr;let b="Unknown"===u.cr?"--":u.cr;c[e.id].addIfAbsent(u.cr),f+=`<td class='table-cell cr ${e.cssClass}'>${b}</td>`;break;case"item-type":if(!c[e.id]){let t=new l.a({header:"Type",deselFn:h("type","$")});t.metric="_fTypes",c[e.id]=t}const y=[];u.wondrous&&y.push("Wondrous Item"),u.technology&&y.push(u.technology),u.age&&y.push(u.age),u.weaponCategory&&y.push(u.weaponCategory+" Weapon"),u.type&&y.push(i.a.itemTypeToAbv(u.type)),u.typeText=y.join(", "),u._fTypes=y,y.forEach(t=>c[e.id].addIfAbsent(t)),f+=`<td class='table-cell item-type ${e.cssClass}'>${y.join(", ")}</td>`;break;case"item-rarity":if(!c[e.id]){let t=new l.a({header:"Rarity",items:["None","Common","Uncommon","Rare","Very Rare","Legendary","Artifact","Unknown"]});t.metric="rarity",c[e.id]=t,c.tierFilter=new l.a({header:"Tier",items:["None","Minor","Major"]}),c.tierFilter.metric="_fTier",c.attunementFilter=new l.a({header:"Attunement",items:["Yes","By...","Optional","No"]}),c.attunementFilter.metric="_fAttunement",c.categoryFilter=new l.a({header:"Category",items:["Basic","Generic Variant","Specific Variant","Other"],deselFn:h("category","Specific Variant")}),c.categoryFilter.metric="category"}const m=[];m.push(u.tier?u.tier:"None");let g="No";void 0!==u.reqAttune&&("YES"===u.reqAttune?(g="Yes",u.reqAttune="(Requires Attunement)"):"OPTIONAL"===u.reqAttune?(g="Optional",u.reqAttune="(Attunement Optional)"):u.reqAttune.toLowerCase().startsWith("by")?(g="By...",u.reqAttune="(Requires Attunement "+u.reqAttune+")"):(g="Yes",u.reqAttune="(Requires Attunement "+u.reqAttune+")")),m.forEach(e=>c.tierFilter.addIfAbsent(e)),u._fTier=m,u._fAttunement=g,f+=`<td class='table-cell item-rarity ${e.cssClass}'>${u.rarity}</td>`}let p=[u.name];u.source&&p.push(u.source);let b=`\n\t\t\t<tr class='table-row history-link' data-link='${Object(r.encodeForHash)(p)}' data-title='${d}' ${a.m}='${o}' id='${o}'>\n\t\t\t\t${f}\n\t\t\t</tr>`;const y=Object(r.parseHTML)(b,!0);t.querySelector(".list").append(y)}const d=Object(r.search)({valueNames:s.map(e=>e.id),listClass:"list"},t);if(Object.keys(c).length>0){Object.values(c).forEach(e=>{e.items.sort(r.ascSort)});const s=Object(r.initFilterBox)(t,...Object.values(c));s.render();let n=Object(r.debounce)(()=>{d.filter((function(t){const n=s.getValues();if(t.elm.getAttribute(a.m)){const s=e[t.elm.getAttribute(a.m)];for(let e of Object.values(c)){if(!e.toDisplay(n,Object(r.getFromPath)(s,e.metric)))return!1}}return!0}))},200);s.addEventListener(l.b.EVNT_VALCHANGE,n),n()}function h(t,s){return function(r){let n=Object(o.c)();if(n.length){const i=u(e,n)[t];return i===s?a():r===s&&i!==r}return a();function a(){return r===s}}}}function u(e,t){let s=Object(r.decodeForHash)(t),n=s[0],a=s[1];for(let t of e)if(!(t.name.toLowerCase()!==n.toLowerCase()||a&&t.source&&t.source.toLowerCase()!==a.toLowerCase()))return t;console.error("Hash link was not found in loaded data",t,e)}},60:function(e,t,s){"use strict";s.d(t,"b",(function(){return a})),s.d(t,"c",(function(){return i})),s.d(t,"a",(function(){return l}));var r=s(8),n=s(3);function a(e){const t=[];if(e)for(const s of e){for(let[e,n]of Object.entries(s))if("choose"!==e&&"hidden"!==e){let s=parseInt(n)>0?"+"+n:n||"+1",a=e;t.push("Increase your "+r.a.attAbvToFull(a)+" score by "+s+", to a maximum of 20.")}if(s.choose){let e=s.choose.from,r=s.choose.amount;if(r=parseInt(r)>0?"+"+r:r||"+1",6===e.length)s.choose.entry?t.push(s.choose.entry):t.push("Increase one ability score of your choice by "+r+", to a maximum of 20.");else{const s=[];for(let t of e)s.push(Object(n.util_capitalize)(t));const a=Object(n.utils_joinPhraseArray)(s,", "," or ");t.push("Increase your "+a+" by "+r+", to a maximum of 20.")}}}return t.join(" ")}function i(e){const t=[];if(e)for(const s of e){for(let[e,r]of Object.entries(s))if("choose"!==e&&"hidden"!==e){let s=parseInt(r)>0?"+"+r:r||"+1",a=e;t.push(Object(n.util_capitalize)(a)+" "+s)}if(s.choose){let e=s.choose.from,r=s.choose.amount,a=s.choose.count,i=void 0!==a&&1!==a?`${a} from `:"";if(r=parseInt(r)>0?"+"+r:r||"+1",6===e.length)t.push("Choose "+i+"any "+r);else if(e.length+t.length===6)t.push("Any other "+r);else{const s=[];for(let t of e)s.push(Object(n.util_capitalize)(t));const a=Object(n.utils_joinPhraseArray)(s,", "," or ");t.push("Choose "+i+a+" "+r)}}}return t.join("; ")}function l(e){const t=[];if(e)for(const s of e)if(s.choose){const e=s.choose.from;for(let s of e)t.push(s)}else for(let[e,r]of Object.entries(s))t.push(e);return t}},64:function(e,t,s){"use strict";function r(e,t=0,s=document.scrollingElement){if(s.scrollTop===e)return;const r=(s.scrollTop-e)/2;let n=0,a=null;window.requestAnimationFrame((function i(l){if(null!==a){if(n+=Math.PI*(l-a)/t,n>=Math.PI)return s.scrollTop=e;s.scrollTop=r+e+r*Math.cos(n)}a=l,window.requestAnimationFrame(i)}))}function n(e=0){r(0,e,document.scrollingElement)}s.d(t,"a",(function(){return n}))},66:function(e,t,s){"use strict";s.r(t),s.d(t,"onDataLoad",(function(){return d})),s.d(t,"onClassChange",(function(){return h})),s.d(t,"onSubChange",(function(){return f}));var r=s(3),n=s(0),a=s(55),i=s(8),l=s(13);s(64);const o="mdc-chip--selected",c=new a.a;function u(e){let t=[];return c.recursiveEntryRender(e,t,0),t.join(" ")}function d(e,t){for(const t of e)t.subclasses&&(t.subclasses=t.subclasses.sort((e,t)=>Object(r.ascSort)(e.name,t.name)));window.classTableDefault=t.querySelector("#classtable").innerHTML,function(e,t){const s=e.querySelector(".class-container");s.appendChild(Object(r.parseHTML)("<div class='list-container'></div>"));const n=s.querySelector(".list-container");let a="";for(let e=0;e<t.length;e++){const s=t[e];let n=s.name.replace(/(\s|\(|\))/g,"");a+=`<div class='list-item history-link grid-item__${n}'\n\t\t\t\tdata-link='${Object(r.encodeForHash)(s.name,s.source)}' data-title='${s.name}'>\n\t\t\t\t<dnd-svg id='${n}' class='list-item--image grid-item__${n}'></dnd-svg>\n\t\t\t\t<span class='list-item--text'>${s.name}</span>\n\t\t\t</div>`}let i=Object(r.parseHTML)(a);for(;i.length>0;)i[0].addEventListener("click",e=>{let t=e.target.closest(".list-item");Object(l.f)(t.getAttribute("data-link"))}),n.appendChild(i[0])}(t,e)}function h(e,t){t.querySelector("#classtable").innerHTML=window.classTableDefault,t.querySelector("#subclasses").classList.remove("fixed"),t.querySelector("#subclasses").classList.remove("closed"),t.querySelector(".mobile-clone-spells")&&t.querySelector(".mobile-clone-spells").remove(),e.hd?(t.querySelector("#hp").classList.remove("hidden"),t.querySelector("#hp div#hitdice span").innerHTML=a.a.getEntryDice(e.hd),t.querySelector("#hp div#hp1stlevel span").innerHTML=e.hd.faces+" + your Constitution modifier",t.querySelector("#hp div#hphigherlevels span").innerHTML=`${a.a.getEntryDice(e.hd)} (or ${e.hd.faces/2+1}) + your Constitution modifier per ${e.name} level after 1st`):t.querySelector("#hp").classList.add("hidden"),e.proficiency?(t.querySelector("#prof").classList.remove("hidden"),t.querySelector("#prof div#saves span").innerHTML=e.proficiency.map(e=>i.a.attAbvToFull(e)).join(", ")):t.querySelector("#prof").classList.add("hidden");const s=e.startingProficiencies;s?(t.querySelector("#armor").classList.remove("hidden"),t.querySelector("#weapons").classList.remove("hidden"),t.querySelector("#tools").classList.remove("hidden"),t.querySelector("#skills").classList.remove("hidden"),t.querySelector("div#armor span").innerHTML=void 0===s.armor?"none":s.armor.map(e=>"light"===e||"medium"===e||"heavy"===e?e+" armor":e).join(", "),t.querySelector("div#weapons span").innerHTML=void 0===s.weapons?"none":s.weapons.map(e=>"simple"===e||"martial"===e?e+" weapons":e).join(", "),t.querySelector("div#tools span").innerHTML=void 0===s.tools?"none":s.tools.join(", "),t.querySelector("div#skills span").innerHTML=void 0===s.skills?"none":function(e){let t,s,n="";if(Array.isArray(e))for(let a of e)a.choose&&(t=i.a.numberToString(a.choose.count),s=a.choose.from,n+=18===s.length?`Choose any ${t}.`:`Choose ${t} from ${Object(r.joinConjunct)(s,", ",", and ")}.`);else t=i.a.numberToString(e.choose),s=e.from,n+=18===s.length?`Choose any ${t}.`:`Choose ${t} from ${Object(r.joinConjunct)(s,", ",", and ")}.`;return n}(s.skills)):(t.querySelector("#armor").classList.add("hidden"),t.querySelector("#weapons").classList.add("hidden"),t.querySelector("#tools").classList.add("hidden"),t.querySelector("#skills").classList.add("hidden"));const d=e.startingEquipment;if(d){t.querySelector("#equipment").classList.remove("hidden");const e=d.additionalFromBackground?"<p>You start with the following items, plus anything provided by your background.</p>":"",s=0===d.default.length?"":`<ul><li>${d.default.map(e=>u(e)).join("</li><li>")}</ul>`,r=void 0===d.goldAlternative?"":`<p>Alternatively, you may start with ${u(d.goldAlternative)} gp to buy your own equipment.</p>`;t.querySelector("#equipment div").innerHTML=`${e}${s}${r}`}else t.querySelector("#equipment").classList.add("hidden");const h=e.classTableGroups,f=t.querySelector("#groupHeaders"),p=t.querySelector("#colHeaders"),b=[];let y=!1;if(h)for(let e=0;e<h.length;e++){const s=h[e],a=void 0!==s.title;let i="";void 0!==s.subclasses&&(i=`data-subclass-list="${s.subclasses.map(e=>e.name+n.e+e.source).join(n.d)}"`),f.append(Object(r.parseHTML)(`<th ${a?'class="colGroupTitle table-cell"':""} colspan="${s.colLabels.length}" ${i}>${a?s.title:""}</th>`,!0,!0));for(let e=0;e<s.colLabels.length;e++){let t=s.colLabels[e];if(t.indexOf("@")>-1){let e=[];c.recursiveEntryRender(t,e,0),t=e.join(" ")}p.append(Object(r.parseHTML)(`<th class="centred-col table-cell" ${i}>${t}</th>`,!0,!0))}for(let e=0;e<20;e++){const n=t.querySelector(`#level${e+1}`);b[e]=n;for(let t=0;t<s.rows[e].length;t++){let a=s.rows[e][t];0===a&&(a="—");const l=[];c.recursiveEntryRender(a,l,"",""),n.append(Object(r.parseHTML)(`<td class="centred-col" ${i}>${l.join("")}</td>`,!0,!0))}}let l=s.colLabels.join(" ");!y&&(l.indexOf("Spells Known")>-1||l.indexOf("Cantrips Known")>-1||l.indexOf("1st")>-1||l.indexOf("Ki Points")>-1||l.indexOf("Rages")>-1||l.indexOf("Talents Known")>-1)&&(y=!0)}else if(e.classFeatures.length)for(let e=0;e<20;e++){const s=t.querySelector(`#level${e+1}`);b[e]=s}if(t.querySelector("#classtable").classList.remove("mobile-clone-features"),y){t.querySelector("#classtable").classList.add("mobile-clone-features");let e=Object(r.parseHTML)('<div class="mobile-clone-spells"></div>');e.append(t.querySelector("#classtable").cloneNode(!0)),e.querySelector("#classtable").classList.remove("mobile-clone-features"),e.querySelector("#groupHeaders th:not(.colGroupTitle)").remove(),e.querySelector("#groupHeaders .colGroupTitle")&&e.querySelector("#groupHeaders .colGroupTitle").setAttribute("colspan","12");let s=e.querySelectorAll("#colHeaders th");for(let e of s)e.textContent.toLowerCase().indexOf("sneak attack")>-1?e.innerHTML='<span title="Sneak Attack">Snk Atk</span>':e.textContent.toLowerCase().indexOf("sorcery points")>-1?e.innerHTML='<span title="Sorcery Points">SP</span>':e.textContent.toLowerCase().indexOf("spells known")>-1?e.innerHTML='<span title="Spells Known">S</span>':e.textContent.toLowerCase().indexOf("cantrips known")>-1&&(e.innerHTML='<span title="Cantrips Known">C</span>');Object(r.jqAfter)(t.querySelector("#classtable"),e)}const m=[];let g=0;for(let s=0;s<20;s++){const a=b[s].querySelector(".features"),i=[],l=e.classFeatures[s];for(let a=0;a<l.length;a++){const o=l[a],u="f:"+Object(r.encodeForHash)(o.name)+"_"+s,d="f:"+Object(r.encodeForHash)(o.name)+s,h=["feature-link"];Object(r.isNonstandardSource)(o.source)&&h.push(n.i);const f=Object(r.parseHTML)(`<a href="#${Object(r.encodeForHash)(e.name,e.source)}${n.o}${d}"\n          class="${h.join(" ")}"\n          data-flink="${d}"\n          data-flink-id="${u}">${o.name}</a>`);f.addEventListener("click",(function(e){e.preventDefault(),t.getElementById(u).scrollIntoView(!0);let s=-84-Object(r.jqHeight)(t.querySelector("#subclasses"));window.scrollBy(0,s)})),i.push(f);const p=["class-feature"];if(o.gainSubclassFeature&&p.push("gain-subclass-feature"),c.recursiveEntryRender(o,m,0,`<div id="${u}" class="${p.join(" ")}">`,"</div>",!0),o.gainSubclassFeature){for(let t=0;t<e.subclasses.length;t++){const s=e.subclasses[t];for(let e=0;e<s.subclassFeatures[g].length;e++){const t=s.subclassFeatures[g][e];if(void 0===t.name)for(let e=0;e<t.entries.length;e++){const r=t.entries[e];void 0===r.name||r.name.startsWith('<span class="subclass-prefix">')||(r.name=`<span class="subclass-prefix">${s.name}: </span>${r.name}`)}const a=[n.j];(Object(r.isNonstandardSource)(s.source)||Object(r.hasBeenReprinted)(s.shortName,s.source))&&a.push(n.i),c.recursiveEntryRender(t,m,0,`<div class="${a.join(" ")}" ${n.f}="${s.name}" ${n.g}="${s.source}">`,"</div>",!0)}}g++}}if(0===i.length)a.innerHTML="—";else for(let e=0;e<i.length;e++)a.append(i[e]),e<i.length-1&&a.append(", ")}t.querySelector("#stats").innerHTML=m.join(""),w(!0);let $=t.querySelector("div#subclasses");Object(r.jqEmpty)($),$.append(Object(r.parseHTML)("<div class='title'>Subclasses</div>")),$.append(Object(r.parseHTML)("<div class='subclass-wrapper'></div>")),$=$.querySelector(".subclass-wrapper");const v=A("Show UA","os-active","os-toggle","allsrc:",!1,!0);if(A("Class Features","cf-active","cf-toggle","hideclassfs:",!0),e.subclasses){const s=e.subclasses.map(e=>({name:e.name,source:e.source,shortName:e.shortName})).sort((function(e,t){return Object(r.ascSort)(e.shortName,t.shortName)}));for(let e=0;e<s.length;e++){const t=Object(r.isNonstandardSource)(s[e].source)||Object(r.hasBeenReprinted)(s[e].shortName,s[e].source),a=[o,"mdc-chip"];t&&a.push(n.i);const l=Object(r.hasBeenReprinted)(s[e].shortName,s[e].source)?`${s[e].shortName} (${i.a.sourceJsonToAbv(s[e].source)})`:s[e].shortName,c=Object(r.parseHTML)(`<div class="${a.join(" ")}" ${n.f}="${s[e].name}" ${n.g}="${s[e].source}" title="Source: ${i.a.sourceJsonToFull(s[e].source)}"><span class='mdc-chip__text'>${l}</span></div>`);c.addEventListener("click",(function(){S(c.classList.contains(o),s[e].name,s[e].source)})),t&&(c.style.display="none"),$.append(c)}$.append(Object(r.parseHTML)("<div class='tab material-icons'>expand_less</div>")),t.querySelector("#subclasses .tab").addEventListener("click",()=>{t.querySelector("#subclasses").classList.toggle("closed")}),(Object(l.c)().indexOf("allsrc:true")>-1||-1===Object(l.c)().indexOf("allsrc:false"))&&v.click()}else t.querySelector("#subclasses").classList.add("hidden");function A(e,t,s,a,i,o){const c=Object(r.parseHTML)(`<div id="${s}" class="mdc-chip"><span class="mdc-chip__text">${e}</span></div>`);return $.append(c),c.addEventListener("click",(function(){let e=c.classList.contains(t);i||(e=!e),function(e){const t=[],s=Object(l.c)().split(n.o);for(let e=0;e<s.length;e++){const r=s[e];r.startsWith(a)||t.push(r)}e?t.push(a+"true"):t.push(a+"false");const r=t.join(n.o);Object(l.f)(r,!0)}(e),o&&(w(e),c.querySelector(".mdc-chip__text").innerHTML=e?"Hide UA":"Show UA")})),c}function S(e,t,s){const a=[],i=Object(l.c)(),o=i.split(n.o),c=Object(r.encodeForHash)(t,s),u="sub:"+c;if(e&&i.includes("sub:"))for(let e=0;e<o.length;e++){const t=o[e];if(t.startsWith("sub:")){const e=[],s=t.substr("sub:".length).split(n.n);for(let t=0;t<s.length;t++){const r=s[t];r!==c&&e.push(r)}e.length>0&&a.push("sub:"+e.join(n.n))}else a.push(t)}else{let e=!1;for(let t=0;t<o.length;t++){const s=o[t];if(s.startsWith("sub:")){const t=[],r=s.substr("sub:".length).split(n.n);for(let e=0;e<r.length;e++){const s=r[e];s!==c&&t.push(s)}t.push(c),t.length>0&&a.push("sub:"+t.join(n.n)),e=!0}else a.push(s)}e||a.push(u)}const d=a.join(n.o);Object(l.f)(d,!0)}function w(e){let s=t.querySelectorAll(`.${n.i}`);for(let t of s)t.classList.contains("mdc-chip")||(t.style.display=e?null:"none")}}function f(e,t,s){let i=null,l=null,c=null,u=null;for(let t=0;t<e.length;t++){const s=e[t];s.startsWith("sub:")&&(i=s.slice("sub:".length).split(n.n)),s.startsWith("f:")&&(l=s),s.startsWith("hideclassfs:")&&(c="true"===s.slice("hideclassfs:".length)),s.startsWith("allsrc:")&&(u="true"===s.slice("allsrc:".length))}const d=null===u||!1===u;if(null!==i){m();const e=[],t=[],l=s.querySelectorAll(".mdc-chip");for(let s of l){const a=s,l=Object(r.encodeForHash)(a.getAttribute(n.f),a.getAttribute(n.g));let o=!1;for(let e=0;e<i.length;e++){if(i[e].trim()===l){o=!0;break}}o?e.push(a):t.push(a)}const c=s.querySelectorAll(`p.${n.i}`),u=[];for(let t of e){t.classList.add(o);let e=s.querySelectorAll(`.${n.j}[${n.f}="${t.getAttribute(n.f)}"][${n.g}="${t.getAttribute(n.g)}"]`);for(let t of e)t.style.display=null;if(d)for(let e of c)e.getAttribute(n.f)===t.getAttribute(n.f)&&e.getAttribute(n.g)===t.getAttribute(n.g)&&(e.style.display="none");else for(let e of c)e.getAttribute(n.f)===t.getAttribute(n.f)&&e.getAttribute(n.g)===t.getAttribute(n.g)&&(e.style.display=null);const r=t.getAttribute(n.f)+n.e+t.getAttribute(n.g);u.push(r),y(u,r,!0)}for(let e of t){e.classList.remove(o);let t=s.querySelectorAll(`.${n.j}[${n.f}="${e.getAttribute(n.f)}"][${n.g}="${e.getAttribute(n.g)}"]`);for(let e of t)e.style.display="none";for(let t of c)t.getAttribute(n.f)===e.getAttribute(n.f)&&t.getAttribute(n.g)===e.getAttribute(n.g)&&(t.style.display="none");e.getAttribute(n.f),y(u,e.getAttribute(n.f)+n.e+e.getAttribute(n.g),!1)}if(d)for(let e of c)e.classList.contains(n.j)||e.getAttribute(n.f)!==a.a.DATA_NONE||e.getAttribute(n.g)!==a.a.DATA_NONE||(e.style.display="none");else for(let e of c)e.classList.contains(n.j)||e.getAttribute(n.f)!==a.a.DATA_NONE||e.getAttribute(n.g)!==a.a.DATA_NONE||(e.style.display=null);let h=s.querySelectorAll(".subclass-prefix");if(1!==e.length)for(let e of h)e.style.display=null;else for(let e of h)e.style.display="none"}const h=s.querySelector("#cf-toggle"),f=s.querySelectorAll(".class-feature");if(null!==c&&c){h.classList.remove("cf-active");for(let e of f)e.classList.contains("gain-subclass-feature")||(e.style.display="none")}else{h.classList.add("cf-active");for(let e of f)e.classList.contains("gain-subclass-feature")||(e.style.display=null)}const p=s.querySelector("#os-toggle"),b=s.querySelectorAll(`.mdc-chip.${n.i}`);if(d){p.classList.remove("os-active");for(let e of b)e.style.display="none"}else{p.classList.add("os-active");for(let e of b)e.style.display=null}function y(e,t,r){let a=s.querySelectorAll("[data-subclass-list]");for(let s of a){const a=s,i=a.getAttribute("data-subclass-list").split(n.d);if(!r)for(let t=0;t<i.length;t++){if(i[t].indexOf(e)>-1)return}for(let e=0;e<i.length;e++){if(i[e]===t){a.style.display=r?null:"none";break}}}}function m(){const e=t.slice(1).split(n.o),r=[];for(let t=0;t<e.length;t++){const s=e[t];s.startsWith("f:")||r.push(s)}let a=s.querySelectorAll(".feature-link");for(let e of a)e.href=n.p+r.join(n.o)+n.o+e.getAttribute("data-flink")}null===l||void 0!==window.prevFeature&&window.prevFeature===l||(s.getElementById(s.querySelectorAll(`[data-flink="${l}"]`).getAttribute("data-flink-id")).scrollIntoView(),window.prevFeature=l),m()}}}]);
//# sourceMappingURL=0.bundle.js.map