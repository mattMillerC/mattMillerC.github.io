{"version":3,"sources":["webpack:///./components/dnd-classes.js","webpack:///./components/views/dnd-classes-view.js"],"names":["classes","type","Object","observer","hash","String","value","loading","Boolean","super","this","then","data","set","connectedCallback","selectionChangeEventHandler","e","selection","detail","deselectionChangeEventHandler","addEventListener","shadowRoot","disconnectedCallback","removeEventListener","dispatchEvent","CustomEvent","bubbles","composed","selectedClass","selectedSubclass","querySelector","classList","add","indexOf","hashParts","split","slice","title","name","remove","customElements","define"],"mappings":"uKAUA,MAAM,UAAmB,IACvB,wBACE,MAAO,CACLA,QAAS,CACPC,KAAMC,OACNC,SAAU,eAEZC,KAAM,CACJH,KAAMI,OACNC,MAAO,IAETC,QAAS,CACPN,KAAMO,QACNF,OAAO,EACPH,SAAU,mBAKhB,uBACE,MAAO,CAAC,uCAGV,cACEM,QACAC,KAAKH,SAAU,EACf,YAAU,WAAWI,KAAKC,IACxBF,KAAKG,IAAI,UAAWD,GACpBF,KAAKH,SAAU,IAInB,oBACEE,MAAMK,oBAENJ,KAAKK,4BAA+BC,IAClC,IAAIC,EAAYD,EAAIA,EAAEE,OAAOD,UAAY,cACrCA,GACFP,KAAKG,IAAI,OAAQI,IAGrBP,KAAKS,8BAAgC,KACnCT,KAAKG,IAAI,OAAQ,KAGnBH,KAAKK,8BAEL,cAAoBK,iBAAiB,mBAAoBV,KAAKK,6BAC9D,cAAoBK,iBAAiB,uBAAwBV,KAAKS,+BAElE,iBAAOT,KAAKW,YAGd,uBACEZ,MAAMa,uBAENZ,KAAKS,gCACL,cAAoBI,oBAAoB,mBAAoBb,KAAKK,6BACjE,cAAoBQ,oBAAoB,uBAAwBb,KAAKS,+BAGvE,iBACET,KAAKc,cAAc,IAAIC,YAAY,eAAgB,CACjDC,SAAS,EACTC,UAAU,EACVT,OAAQ,CACNX,QAASG,KAAKH,YAKpB,cACE,qBAAWG,KAAKV,QAASU,KAAKW,YAGhC,uBACE,GAAIX,KAAKV,SAAWU,KAAKN,KAAM,CAE7B,IAAIwB,EAAeC,EAEnB,GAHAnB,KAAKW,WAAWS,cAAc,SAASC,UAAUC,IAAI,eAGjDtB,KAAKN,KAAK6B,QAAQ,MAAQ,EAAG,CAC/B,IAAIC,EAAYxB,KAAKN,KAAK+B,MAAM,KAChCP,EAAgB,YAAYlB,KAAKV,QAASkC,EAAU,IACpDL,EAAmBK,EAAUE,MAAM,QAEnCR,EAAgB,YAAYlB,KAAKV,QAASU,KAAKN,MAG7CwB,GACF,uBAAaA,EAAelB,KAAKW,YAE7BQ,GACF,sBAAYA,EAAkBnB,KAAKN,KAAMM,KAAKW,YAEhDX,KAAKc,cAAc,IAAIC,YAAY,eAAgB,CACjDC,SAAS,EACTC,UAAU,EACVT,OAAQ,CAAEmB,MAAOT,EAAcU,UAGjC,aAAoB,GAGnB5B,KAAKN,MACTM,KAAKW,WAAWS,cAAc,SAASC,UAAUQ,OAAO,eAI3D,sBACE,OAAO,GAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;OA0LfC,eAAeC,OAAO,cAAe,GC3SrC,MAAM,UAAuB,IAC3B,sBACE,OAAO,GAAI;;;;OAQfD,eAAeC,OAAO,mBAAoB","file":"11.bundle.js","sourcesContent":["import {PolymerElement, html} from '@polymer/polymer';\nimport \"./styles/material-styles.js\";\nimport \"./styles/my-styles.js\";\nimport './dnd-svg.js';\nimport loadModel from '../util/data.js';\nimport { resolveHash } from '../util/renderTable.js';\nimport { onLoad, onDataLoad, onHashChange, onSubChange } from \"../js/classes.js\";\nimport { readRouteSelection, routeEventChannel, clearRouteSelection } from '../util/routing.js';\n\n\nclass DndClasses extends PolymerElement {\n  static get properties() {\n    return {\n      classes: {\n        type: Object,\n        observer: \"_dataLoaded\"\n      },\n      hash: {\n        type: String,\n        value: ''\n      },\n      loading: {\n        type: Boolean,\n        value: true,\n        observer: '_loadingChange'\n      }\n    };\n  }\n\n  static get observers() {\n    return [\"_updateClassFromHash(classes, hash)\"]\n  }\n\n  constructor() {\n    super();\n    this.loading = true;\n    loadModel(\"classes\").then(data => {\n      this.set(\"classes\", data);\n      this.loading = false;\n    });\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this.selectionChangeEventHandler = (e) => {\n      let selection = e ? e.detail.selection : readRouteSelection();\n      if (selection) {\n        this.set(\"hash\", selection);\n      }\n    };\n    this.deselectionChangeEventHandler = () => {\n      this.set(\"hash\", \"\");\n    }\n\n    this.selectionChangeEventHandler();\n\n    routeEventChannel().addEventListener(\"selection-change\", this.selectionChangeEventHandler);\n    routeEventChannel().addEventListener(\"selection-deselected\", this.deselectionChangeEventHandler);\n\n    onLoad(this.shadowRoot);\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n    this.deselectionChangeEventHandler();\n    routeEventChannel().removeEventListener(\"selection-change\", this.selectionChangeEventHandler);\n    routeEventChannel().removeEventListener(\"selection-deselected\", this.deselectionChangeEventHandler);\n  }\n\n  _loadingChange() {\n    this.dispatchEvent(new CustomEvent(\"loading-data\", {\n      bubbles: true,\n      composed: true,\n      detail: {\n        loading: this.loading\n      }\n    }));\n  }\n\n  _dataLoaded() {\n    onDataLoad(this.classes, this.shadowRoot);\n  }\n\n  _updateClassFromHash() {\n    if (this.classes && this.hash) {\n      this.shadowRoot.querySelector(\".main\").classList.add(\"item-opened\");\n      let selectedClass, selectedSubclass;\n\n      if (this.hash.indexOf(',') > -1) {\n        let hashParts = this.hash.split(',');\n        selectedClass = resolveHash(this.classes, hashParts[0]);\n        selectedSubclass = hashParts.slice(1);\n      } else {\n        selectedClass = resolveHash(this.classes, this.hash);\n      }\n\n      if (selectedClass) {\n        onHashChange(selectedClass, this.shadowRoot);\n        \n        if (selectedSubclass) {\n          onSubChange(selectedSubclass, this.hash, this.shadowRoot);\n        }\n        this.dispatchEvent(new CustomEvent(\"title-change\", {\n          bubbles: true,\n          composed: true,\n          detail: { title: selectedClass.name }\n        }));\n      } else {\n        clearRouteSelection(true);\n      }\n    }\n    if (!this.hash) {\n\t    this.shadowRoot.querySelector(\".main\").classList.remove(\"item-opened\");\n    }\n  }\n\n  static get template() {\n    return html`\n      <style include=\"material-styles my-styles\"></style>\n      <div class=\"main\">\n\n        <dnd-svg class=\"class-icon stand-alone-icon\"></dnd-svg>\n\n        <button class=\"mdc-icon-button close-item material-icons\">close</button>\n        <button class=\"mdc-icon-button mdc-button--raised back-to-top material-icons hidden\">arrow_upward</button>\n\n        <div class=\"class-list-container\"></div>\n\n        <div class=\"class-page--class-container\">\n          <div id=\"classtable\">\n            <table class=\"table\">\n              <tr id=\"groupHeaders\" class=\"table-row table-row--header\">\n                <th colspan=\"3\"></th>\n                <!-- spacer to match the 3 default cols (level, prof, features) -->\n              </tr>\n              <tr id=\"colHeaders\" class=\"table-row table-row--header\">\n                <th class=\"level table-cell\">Level</th>\n                <th class=\"pb table-cell\">Proficiency Bonus</th>\n                <th class=\"features table-cell\">Features</th>\n              </tr>\n              <tr id=\"level1\" class=\"table-row\">\n                <td class=\"level table-cell\">1st</td>\n                <td class=\"pb table-cell\">+2</td>\n                <td class=\"features table-cell\"></td>\n              </tr>\n              <tr id=\"level2\" class=\"table-row\">\n                <td class=\"level table-cell\">2nd</td>\n                <td class=\"pb table-cell\">+2</td>\n                <td class=\"features table-cell\"></td>\n              </tr>\n              <tr id=\"level3\" class=\"table-row\">\n                <td class=\"level table-cell\">3rd</td>\n                <td class=\"pb table-cell\">+2</td>\n                <td class=\"features table-cell\"></td>\n              </tr>\n              <tr id=\"level4\" class=\"table-row\">\n                <td class=\"level table-cell\">4th</td>\n                <td class=\"pb table-cell\">+2</td>\n                <td class=\"features table-cell\"></td>\n              </tr>\n              <tr id=\"level5\" class=\"table-row\">\n                <td class=\"level table-cell\">5th</td>\n                <td class=\"pb table-cell\">+3</td>\n                <td class=\"features table-cell\"></td>\n              </tr>\n              <tr id=\"level6\" class=\"table-row\">\n                <td class=\"level table-cell\">6th</td>\n                <td class=\"pb table-cell\">+3</td>\n                <td class=\"features table-cell\"></td>\n              </tr>\n              <tr id=\"level7\" class=\"table-row\">\n                <td class=\"level table-cell\">7th</td>\n                <td class=\"pb table-cell\">+3</td>\n                <td class=\"features table-cell\"></td>\n              </tr>\n              <tr id=\"level8\" class=\"table-row\">\n                <td class=\"level table-cell\">8th</td>\n                <td class=\"pb table-cell\">+3</td>\n                <td class=\"features table-cell\"></td>\n              </tr>\n              <tr id=\"level9\" class=\"table-row\">\n                <td class=\"level table-cell\">9th</td>\n                <td class=\"pb table-cell\">+4</td>\n                <td class=\"features table-cell\"></td>\n              </tr>\n              <tr id=\"level10\" class=\"table-row\">\n                <td class=\"level table-cell\">10th</td>\n                <td class=\"pb table-cell\">+4</td>\n                <td class=\"features table-cell\"></td>\n              </tr>\n              <tr id=\"level11\" class=\"table-row\">\n                <td class=\"level table-cell\">11th</td>\n                <td class=\"pb table-cell\">+4</td>\n                <td class=\"features table-cell\"></td>\n              </tr>\n              <tr id=\"level12\" class=\"table-row\">\n                <td class=\"level table-cell\">12th</td>\n                <td class=\"pb table-cell\">+4</td>\n                <td class=\"features table-cell\"></td>\n              </tr>\n              <tr id=\"level13\" class=\"table-row\">\n                <td class=\"level table-cell\">13th</td>\n                <td class=\"pb table-cell\">+5</td>\n                <td class=\"features table-cell\"></td>\n              </tr>\n              <tr id=\"level14\" class=\"table-row\">\n                <td class=\"level table-cell\">14th</td>\n                <td class=\"pb table-cell\">+5</td>\n                <td class=\"features table-cell\"></td>\n              </tr>\n              <tr id=\"level15\" class=\"table-row\">\n                <td class=\"level table-cell\">15th</td>\n                <td class=\"pb table-cell\">+5</td>\n                <td class=\"features table-cell\"></td>\n              </tr>\n              <tr id=\"level16\" class=\"table-row\">\n                <td class=\"level table-cell\">16th</td>\n                <td class=\"pb table-cell\">+5</td>\n                <td class=\"features table-cell\"></td>\n              </tr>\n              <tr id=\"level17\" class=\"table-row\">\n                <td class=\"level table-cell\">17th</td>\n                <td class=\"pb table-cell\">+6</td>\n                <td class=\"features table-cell\"></td>\n              </tr>\n              <tr id=\"level18\" class=\"table-row\">\n                <td class=\"level table-cell\">18th</td>\n                <td class=\"pb table-cell\">+6</td>\n                <td class=\"features table-cell\"></td>\n              </tr>\n              <tr id=\"level19\" class=\"table-row\">\n                <td class=\"level table-cell\">19th</td>\n                <td class=\"pb table-cell\">+6</td>\n                <td class=\"features table-cell\"></td>\n              </tr>\n              <tr id=\"level20\" class=\"table-row\">\n                <td class=\"level table-cell\">20th</td>\n                <td class=\"pb table-cell\">+6</td>\n                <td class=\"features table-cell\"></td>\n              </tr>\n            </table>\n          </div>\n\n          <div id=\"statsprof\" class=\"stats\">\n            <div id=\"hp\" colspan=\"6\">\n              <h5>Hit Points</h5>\n              <div id=\"hitdice\">\n                <strong>Hit Dice:</strong>\n                <span> </span>\n              </div>\n              <div id=\"hp1stlevel\">\n                <strong>Hit Points at 1st Level:</strong>\n                <span> </span>\n              </div>\n              <div id=\"hphigherlevels\">\n                <strong>Hit Points at Higher Levels:</strong>\n                <span> </span>\n              </div>\n            </div>\n            <div id=\"prof\" colspan=\"6\">\n              <h5>Proficiencies</h5>\n              <span\n                >You are proficient with the following items, in addition to any proficiencies provided by your race or\n                background.</span\n              >\n              <div id=\"armor\">\n                <strong>Armor:</strong>\n                <span> </span>\n              </div>\n              <div id=\"weapons\">\n                <strong>Weapons:</strong>\n                <span> </span>\n              </div>\n              <div id=\"tools\">\n                <strong>Tools:</strong>\n                <span> </span>\n              </div>\n              <div id=\"saves\">\n                <strong>Saving Throws:</strong>\n                <span> </span>\n              </div>\n              <div id=\"skills\">\n                <strong>Skills:</strong>\n                <span> </span>\n              </div>\n              <div id=\"equipment\" colspan=\"6\">\n                <h5>Starting Equipment</h5>\n                <div></div>\n              </div>\n            </div>\n          </div>\n\n          <div id=\"subclassHeight\"></div>\n          <div id=\"subclasses\"></div>\n          <div id=\"stats\" class=\"stats\">\n            <!-- populate with JS -->\n          </div>\n        </div>\n      </div>\n    `;\n  }\n}\n\ncustomElements.define('dnd-classes', DndClasses);","import {PolymerElement, html} from '@polymer/polymer';\nimport \"../styles/material-styles.js\";\nimport \"../styles/my-styles.js\";\nimport \"../dnd-layout\";\nimport \"../dnd-classes\";\n\nclass DndClassesView extends PolymerElement {\n  static get template() {\n    return html`\n      <style include=\"material-styles my-styles\"></style>\n      \n      <dnd-classes></dnd-classes>\n    `;\n  }\n}\n\ncustomElements.define('dnd-classes-view', DndClassesView);"],"sourceRoot":""}