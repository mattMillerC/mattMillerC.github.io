(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{49:function(e,t,s){"use strict";s.r(t);var i=s(11),n=(s(26),s(27),s(58),s(57)),r=s(3),a=s(13);class o extends i.a{static get properties(){return{rules:{type:Array},selectedRule:{type:Object,value:"",observer:"_selectedRuleChange"},contentsOrder:{type:Array,value:()=>[{id:"charactercreation",title:"Character Creation"},{id:"equipment",title:"Equipment"},{id:"playingthegame",title:"Playing the Game"},{id:"runningthegame",title:"Running the Game"},{id:"setting",title:"Setting"},{id:"unearthedarcana",title:"Unearthed Arcana"}]}}}static get observers(){return["_openRuleFromHash(hash, rules)"]}_selectedRuleChange(){if(this.selectedRule&&this.selectedRule.htmlcontent){this.dispatchEvent(new CustomEvent("title-change",{bubbles:!0,composed:!0,detail:{title:this.selectedRule.name}})),this.$.rulescontent.innerHTML=this.selectedRule.htmlcontent;let e=this.$.rulescontent.querySelectorAll("table");for(let t of e)Object(r.jqWrap)(t,'<div class="table-scroll-wrap">')}}_openRuleFromHash(){if(this.rules&&this.hash&&this.hash.length>1){let e,t=Object(r.decodeForHash)(this.hash)[0];for(let s of Object.values(this.rules)){for(let i of s)if(i.name===t){e=i;break}if(e)break}e?(this.set("selectedRule",e),window.scrollTo(0,0)):Object(a.a)(!0)}else this.set("selectedRule",void 0)}constructor(){super(),Object(n.a)("rules").then(e=>{const t={},s=e;for(let e of s)t[e.parentlist]?t[e.parentlist].push(e):t[e.parentlist]=[e];this.set("rules",t),Object(r.initCollapseToggles)(this.shadowRoot);let i=Object(a.c)();i&&(this.hash=i)})}connectedCallback(){super.connectedCallback(),this.selectionChangeHandler=e=>{e.detail&&e.detail.selection&&(this.hash=e.detail.selection)},this.deselectionChangeHandler=()=>{this.set("selectedRule",void 0)},Object(a.e)().addEventListener("selection-change",this.selectionChangeHandler),Object(a.e)().addEventListener("selection-deselected",this.deselectionChangeHandler)}disconnectedCallback(){super.disconnectedCallback(),this.deselectionChangeHandler(),Object(a.e)().removeEventListener("selection-change",this.selectionChangeHandler),Object(a.e)().removeEventListener("selection-deselected",this.deselectionChangeHandler)}_getCategoryRules(e,t){return t?t[e]:""}_openRule(e){let t=e.target.closest(".mdc-list-item"),s=t.getAttribute("category"),i=t.getAttribute("rule"),n=Object(r.encodeForHash)(this.rules[s][i].name);Object(a.f)(n)}_exists(e){return!!e}static get template(){return i.b`
      <style include="material-styles my-styles"></style>

      <div class="rules-wrapper" hidden$="[[_exists(selectedRule)]]">
        <template is="dom-repeat" items="[[contentsOrder]]" as="category">
          <div class="collapse collapse--left-arrow">
            <div class="collapse-toggle">
              <div class="mdc-list-item rule-title mdc-theme--on-surface">
                [[category.title]]
              </div>
            </div>
            <div class="collapse-wrapper">
              <ul class$="collapse-list rules [[category.id]]">
                <template is="dom-repeat" items="[[_getCategoryRules(category.id, rules)]]" as="rule">
                  <div
                    class="mdc-list-item mdc-theme--on-surface"
                    on-click="_openRule"
                    category$="[[category.id]]"
                    rule$="[[index]]"
                  >
                    <span class="name col-xs-12">[[rule.name]]</span>
                  </div>
                </template>
              </ul>
            </div>
          </div>
        </template>
      </div>

      <div id="rulescontent" hidden$="[[!_exists(selectedRule)]]"></div>
    `}}customElements.define("dnd-rules",o);class l extends i.a{static get template(){return i.b`
      <style include="material-styles my-styles"></style>

      <dnd-rules></dnd-rules>
    `}}customElements.define("dnd-rules-view",l)},57:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var i=s(3),n=s(8);let r={};async function a(e){if(e){if(!r.hasOwnProperty(e))switch(e){case"items":r[e]=await function(){const e=[];return e.push(o("/data/items.json")),e.push(o("/data/basicitems.json")),e.push(o("/data/magicvariants.json")),Promise.all(e).then(e=>function(e,t,s){const i={},r={};let a=e,o=t.basicitems;const l=t.itemProperty,h=t.itemType;for(let e=0;e<l.length;e++)i[l[e].abbreviation]=l[e].name?JSON.parse(JSON.stringify(l[e])):{name:l[e].entries[0].name.toLowerCase(),entries:l[e].entries};for(let e=0;e<h.length;e++)r[h[e].abbreviation]=h[e].name?JSON.parse(JSON.stringify(h[e])):{name:h[e].entries[0].name.toLowerCase(),entries:h[e].entries};let c=s;a=a.concat(o);for(let e=0;e<c.length;e++)c[e].tier=c[e].inherits.tier,c[e].rarity=c[e].inherits.rarity,c[e].source=c[e].inherits.source,c[e].page=c[e].inherits.page,!c[e].entries&&c[e].inherits.entries&&(c[e].entries=JSON.parse(JSON.stringify(c[e].inherits.entries))),c[e].requires.armor&&(c[e].armor=c[e].requires.armor);a=a.concat(c);for(let e=0;e<o.length;e++){const t=o[e];o[e].category="Basic",void 0===t.entries&&(t.entries=[]);const s=t.name.toLowerCase();for(let e=0;e<c.length;e++){const i=c[e],r=i.requires;let o=-1===s.indexOf(" (");for(const e in r)r.hasOwnProperty(e)&&t[e]!==r[e]&&(o=!1);if(i.excludes){const e=i.excludes;for(const s in e)e.hasOwnProperty(s)&&t[s]===e[s]&&(o=!1)}if(o){const e=i.inherits,r=JSON.parse(JSON.stringify(t));delete r.value,r.category="Specific Variant";for(const t in e)if(e.hasOwnProperty(t))if("namePrefix"===t)r.name=e.namePrefix+r.name;else if("nameSuffix"===t)r.name+=e.nameSuffix;else if("entries"===t)for(let t=e.entries.length-1;t>-1;t--){let i=e.entries[t];"string"==typeof i&&(r.dmgType&&(i=i.replace("{@dmgType}",n.a.dmgTypeToFull(r.dmgType))),e.genericBonus&&(i=i.replace("{@genericBonus}",e.genericBonus)),-1!==i.indexOf("{@lowerName}")&&(i=i.split("{@lowerName}").join(s))),r.entries.unshift(i)}else r[t]=e[t];a.push(r)}}}let d=(e,t)=>{const s=JSON.parse(JSON.stringify(e));return s.push(t),s};for(let e=0;e<a.length;e++){const t=a[e];if(!t.noDisplay){if("GV"===a[e].type&&(a[e].category="Generic Variant"),void 0===a[e].category&&(a[e].category="Other"),void 0===t.entries&&(a[e].entries=[]),t.type&&r[t.type])for(let s=0;s<r[t.type].entries.length;s++)a[e].entries=d(a[e].entries,r[t.type].entries[s]);if(t.property){const s=t.property.split(",");for(let t=0;t<s.length;t++)if(i[s[t]].entries)for(let n=0;n<i[s[t]].entries.length;n++)a[e].entries=d(a[e].entries,i[s[t]].entries[n])}t.armor?(t.resist&&(a[e].entries=d(a[e].entries,"You have resistance to "+t.resist+" damage while you wear this armor.")),t.armor&&t.stealth&&(a[e].entries=d(a[e].entries,"The wearer has disadvantage on Stealth (Dexterity) checks.")),"HA"===t.type&&t.strength&&(a[e].entries=d(a[e].entries,"If the wearer has a Strength score lower than "+t.strength+", their speed is reduced by 10 feet."))):t.resist&&("P"===t.type&&(a[e].entries=d(a[e].entries,"When you drink this potion, you gain resistance to "+t.resist+" damage for 1 hour.")),"RG"===t.type&&(a[e].entries=d(a[e].entries,"You have resistance to "+t.resist+" damage while wearing this ring."))),"SCF"===t.type&&("arcane"===t.scfType&&(a[e].entries=d(a[e].entries,"An arcane focus is a special item designed to channel the power of arcane spells. A sorcerer, warlock, or wizard can use such an item as a spellcasting focus, using it in place of any material component which does not list a cost.")),"druid"===t.scfType&&(a[e].entries=d(a[e].entries,"A druid can use such a druidic focus as a spellcasting focus, using it in place of any material component that does not have a cost.")),"holy"===t.scfType&&(a[e].entries=d(a[e].entries,"A holy symbol is a representation of a god or pantheon."),a[e].entries=d(a[e].entries,"A cleric or paladin can use a holy symbol as a spellcasting focus, using it in place of any material components which do not list a cost. To use the symbol in this way, the caster must hold it in hand, wear it visibly, or bear it on a shield.")))}}for(let e=0;e<a.length;e++){const t=a[e];if(!t.noDisplay){if("GV"===a[e].type&&(a[e].category="Generic Variant"),void 0===a[e].category&&(a[e].category="Other"),void 0===t.entries&&(a[e].entries=[]),t.type&&r[t.type])for(let s=0;s<r[t.type].entries.length;s++)a[e].entries=d(a[e].entries,r[t.type].entries[s]);if(t.property){const s=t.property.split(",");for(let t=0;t<s.length;t++)if(i[s[t]].entries)for(let n=0;n<i[s[t]].entries.length;n++)a[e].entries=d(a[e].entries,i[s[t]].entries[n])}t.armor?(t.resist&&(a[e].entries=d(a[e].entries,"You have resistance to "+t.resist+" damage while you wear this armor.")),t.armor&&t.stealth&&(a[e].entries=d(a[e].entries,"The wearer has disadvantage on Stealth (Dexterity) checks.")),"HA"===t.type&&t.strength&&(a[e].entries=d(a[e].entries,"If the wearer has a Strength score lower than "+t.strength+", their speed is reduced by 10 feet."))):t.resist&&("P"===t.type&&(a[e].entries=d(a[e].entries,"When you drink this potion, you gain resistance to "+t.resist+" damage for 1 hour.")),"RG"===t.type&&(a[e].entries=d(a[e].entries,"You have resistance to "+t.resist+" damage while wearing this ring."))),"SCF"===t.type&&("arcane"===t.scfType&&(a[e].entries=d(a[e].entries,"An arcane focus is a special item designed to channel the power of arcane spells. A sorcerer, warlock, or wizard can use such an item as a spellcasting focus, using it in place of any material component which does not list a cost.")),"druid"===t.scfType&&(a[e].entries=d(a[e].entries,"A druid can use such a druidic focus as a spellcasting focus, using it in place of any material component that does not have a cost.")),"holy"===t.scfType&&(a[e].entries=d(a[e].entries,"A holy symbol is a representation of a god or pantheon."),a[e].entries=d(a[e].entries,"A cleric or paladin can use a holy symbol as a spellcasting focus, using it in place of any material components which do not list a cost. To use the symbol in this way, the caster must hold it in hand, wear it visibly, or bear it on a shield.")))}}return a}(e[0],e[1],e[2]))}();break;case"bestiary":r[e]=await function(){const e=[];return e.push(o("/data/bestiary.json")),e.push(o("/data/legendarygroups.json")),Promise.all(e).then(e=>function(e,t){const s={};for(let e of t)s[e.name]={lairActions:e.lairActions,regionalEffects:e.regionalEffects};for(let t of e)if(t.legendaryGroup){const e=t.legendaryGroup;if(e){const n=s[e];n.lairActions&&(t.lairaction=Object(i.cloneDeep)(n.lairActions)),n.regionalEffects&&(t.regionaleffect=Object(i.cloneDeep)(n.regionalEffects))}}return e}(e[0],e[1]))}();break;case"spells":case"classes":r[e]=await async function(e){const t=await o(`/data/${e}/index.json`);if(t.index){let s=[];for(let i of Object.values(t.index))s.push(o(`/data/${e}/${i}`));return Promise.all(s).then(e=>{let t=[];for(let s of e)t=t.concat(s);return t})}return console.error("Model index data not found from model JSON"),[]}(e);break;default:r[e]=await async function(e){const t=await o(`/data/${e}.json`);return Array.isArray(t)?t:(console.error("Array data not found from model JSON"),[])}(e)}return r[e]}return console.error("Missing modelID"),[]}function o(e){return fetch(e).then(e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})}},58:function(e,t,s){"use strict";var i=s(11),n=s(28),r=s(17),a=s(23),o=s(22),l=s(1),h=s(16),c=s(4),d=s(29);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const u=Object(o.b)(i.a);class _ extends u{static get is(){return"dom-repeat"}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},itemsIndexAs:{type:String,value:"itemsIndex"},sort:{type:Function,observer:"__sortChanged"},filter:{type:Function,observer:"__filterChanged"},observe:{type:String,observer:"__observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!0,readOnly:!0},initialCount:{type:Number,observer:"__initializeChunking"},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"}}}static get observers(){return["__itemsChanged(items.*)"]}constructor(){super(),this.__instances=[],this.__limit=1/0,this.__pool=[],this.__renderDebouncer=null,this.__itemsIdxToInstIdx={},this.__chunkCount=null,this.__lastChunkTime=null,this.__sortFn=null,this.__filterFn=null,this.__observePaths=null,this.__ctor=null,this.__isDetached=!0,this.template=null}disconnectedCallback(){super.disconnectedCallback(),this.__isDetached=!0;for(let e=0;e<this.__instances.length;e++)this.__detachInstance(e)}connectedCallback(){if(super.connectedCallback(),Object(d.a)()||(this.style.display="none"),this.__isDetached){this.__isDetached=!1;let e=Object(c.a)(Object(c.a)(this).parentNode);for(let t=0;t<this.__instances.length;t++)this.__attachInstance(t,e)}}__ensureTemplatized(){if(!this.__ctor){let e=this.template=this.querySelector("template");if(!e){let e=new MutationObserver(()=>{if(!this.querySelector("template"))throw new Error("dom-repeat requires a <template> child");e.disconnect(),this.__render()});return e.observe(this,{childList:!0}),!1}let t={};t[this.as]=!0,t[this.indexAs]=!0,t[this.itemsIndexAs]=!0,this.__ctor=Object(n.b)(e,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:t,forwardHostProp:function(e,t){let s=this.__instances;for(let i,n=0;n<s.length&&(i=s[n]);n++)i.forwardHostProp(e,t)},notifyInstanceProp:function(e,t,s){if(Object(l.e)(this.as,t)){let i=e[this.itemsIndexAs];t==this.as&&(this.items[i]=s);let n=Object(l.i)(this.as,`${JSCompiler_renameProperty("items",this)}.${i}`,t);this.notifyPath(n,s)}}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__functionFromPropertyValue(e){if("string"==typeof e){let t=e,s=this.__getMethodHost();return function(){return s[t].apply(s,arguments)}}return e}__sortChanged(e){this.__sortFn=this.__functionFromPropertyValue(e),this.items&&this.__debounceRender(this.__render)}__filterChanged(e){this.__filterFn=this.__functionFromPropertyValue(e),this.items&&this.__debounceRender(this.__render)}__computeFrameTime(e){return Math.ceil(1e3/e)}__initializeChunking(){this.initialCount&&(this.__limit=this.initialCount,this.__chunkCount=this.initialCount,this.__lastChunkTime=performance.now())}__tryRenderChunk(){this.items&&this.__limit<this.items.length&&this.__debounceRender(this.__requestRenderChunk)}__requestRenderChunk(){requestAnimationFrame(()=>this.__renderChunk())}__renderChunk(){let e=performance.now(),t=this._targetFrameTime/(e-this.__lastChunkTime);this.__chunkCount=Math.round(this.__chunkCount*t)||1,this.__limit+=this.__chunkCount,this.__lastChunkTime=e,this.__debounceRender(this.__render)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace(".*",".").split(" ")}__itemsChanged(e){this.items&&!Array.isArray(this.items)&&console.warn("dom-repeat expected array for `items`, found",this.items),this.__handleItemPath(e.path,e.value)||(this.__initializeChunking(),this.__debounceRender(this.__render))}__handleObservedPaths(e){if(this.__sortFn||this.__filterFn)if(e){if(this.__observePaths){let t=this.__observePaths;for(let s=0;s<t.length;s++)0===e.indexOf(t[s])&&this.__debounceRender(this.__render,this.delay)}}else this.__debounceRender(this.__render,this.delay)}__debounceRender(e,t=0){this.__renderDebouncer=r.a.debounce(this.__renderDebouncer,t>0?h.b.after(t):h.a,e.bind(this)),Object(a.a)(this.__renderDebouncer)}render(){this.__debounceRender(this.__render),Object(a.b)()}__render(){this.__ensureTemplatized()&&(this.__applyFullRefresh(),this.__pool.length=0,this._setRenderedItemCount(this.__instances.length),this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0})),this.__tryRenderChunk())}__applyFullRefresh(){let e=this.items||[],t=new Array(e.length);for(let s=0;s<e.length;s++)t[s]=s;this.__filterFn&&(t=t.filter((t,s,i)=>this.__filterFn(e[t],s,i))),this.__sortFn&&t.sort((t,s)=>this.__sortFn(e[t],e[s]));const s=this.__itemsIdxToInstIdx={};let i=0;const n=Math.min(t.length,this.__limit);for(;i<n;i++){let n=this.__instances[i],r=t[i],a=e[r];s[r]=i,n?(n._setPendingProperty(this.as,a),n._setPendingProperty(this.indexAs,i),n._setPendingProperty(this.itemsIndexAs,r),n._flushProperties()):this.__insertInstance(a,i,r)}for(let e=this.__instances.length-1;e>=i;e--)this.__detachAndRemoveInstance(e)}__detachInstance(e){let t=this.__instances[e];const s=Object(c.a)(t.root);for(let e=0;e<t.children.length;e++){let i=t.children[e];s.appendChild(i)}return t}__attachInstance(e,t){let s=this.__instances[e];t.insertBefore(s.root,this)}__detachAndRemoveInstance(e){let t=this.__detachInstance(e);t&&this.__pool.push(t),this.__instances.splice(e,1)}__stampInstance(e,t,s){let i={};return i[this.as]=e,i[this.indexAs]=t,i[this.itemsIndexAs]=s,new this.__ctor(i)}__insertInstance(e,t,s){let i=this.__pool.pop();i?(i._setPendingProperty(this.as,e),i._setPendingProperty(this.indexAs,t),i._setPendingProperty(this.itemsIndexAs,s),i._flushProperties()):i=this.__stampInstance(e,t,s);let n=this.__instances[t+1],r=n?n.children[0]:this;return Object(c.a)(Object(c.a)(this).parentNode).insertBefore(i.root,r),this.__instances[t]=i,i}_showHideChildren(e){for(let t=0;t<this.__instances.length;t++)this.__instances[t]._showHideChildren(e)}__handleItemPath(e,t){let s=e.slice(6),i=s.indexOf("."),n=i<0?s:s.substring(0,i);if(n==parseInt(n,10)){let e=i<0?"":s.substring(i+1);this.__handleObservedPaths(e);let r=this.__itemsIdxToInstIdx[n],a=this.__instances[r];if(a){let s=this.as+(e?"."+e:"");a._setPendingPropertyOrPath(s,t,!1,!0),a._flushProperties()}return!0}}itemForElement(e){let t=this.modelForElement(e);return t&&t[this.as]}indexForElement(e){let t=this.modelForElement(e);return t&&t[this.indexAs]}modelForElement(e){return Object(n.a)(this.template,e)}}customElements.define(_.is,_)}}]);
//# sourceMappingURL=6.bundle.js.map